drop table T_MICSERVICE_CONFIG cascade constraints;
create table T_MICSERVICE_CONFIG  (
   ID                   VARCHAR2(40)                    not null,
   SERVICE_NAME         VARCHAR2(20)                    not null,
   DESCRIPTION          VARCHAR2(100),
   GRAY_USER            VARCHAR2(200),
   GRAY_URL             VARCHAR2(100),
   constraint PK_T_MICSERVICE_CONFIG primary key (ID)
);

comment on table T_MICSERVICE_CONFIG is '微服务配置表';
comment on column T_MICSERVICE_CONFIG.ID is '主键ID';
comment on column T_MICSERVICE_CONFIG.SERVICE_NAME is '微服务名称';
comment on column T_MICSERVICE_CONFIG.DESCRIPTION is '微服务描述';
comment on column T_MICSERVICE_CONFIG.GRAY_USER is '灰度服务使用用户，格式为：法人编码_用户登录账号,法人编码_用户登录账号';
comment on column T_MICSERVICE_CONFIG.GRAY_URL is '灰度服务HTTP请求地址';


drop table T_MICSERVICE_ROUTES cascade constraints;
create table T_MICSERVICE_ROUTES  (
   ID                   VARCHAR2(40)                    not null,
   SERVICE_ID           VARCHAR2(40)                    not null,
   REQ_URL              VARCHAR2(80)                    not null,
   FORWARD_URL          VARCHAR2(80),
   DESCRIPTION          VARCHAR2(100),
   API_TYPE             VARCHAR2(1)                    default '4',
   REG_OPER_LOG         VARCHAR2(1)                    default '1',
   OPEN_GRAY            VARCHAR2(1)                    default '0',
   STATUS               VARCHAR2(1)                    default '1' not null,
   CREATE_DATE          DATE                            not null,
   UPDATE_DATE          DATE                            not null,
   constraint PK_T_MICSERVICE_ROUTES primary key (ID)
);

comment on table T_MICSERVICE_ROUTES is '微服务路由信息';
comment on column T_MICSERVICE_ROUTES.ID is '主键ID';
comment on column T_MICSERVICE_ROUTES.SERVICE_ID is '外键微服务ID';
comment on column T_MICSERVICE_ROUTES.REQ_URL is '请求地址';
comment on column T_MICSERVICE_ROUTES.FORWARD_URL is '重定向请求地址';
comment on column T_MICSERVICE_ROUTES.DESCRIPTION is '描述';
comment on column T_MICSERVICE_ROUTES.API_TYPE is '接口类型:1新增、2删除、3修改、4查询';
comment on column T_MICSERVICE_ROUTES.REG_OPER_LOG is '是否记录操作日志：1是、0否';
comment on column T_MICSERVICE_ROUTES.OPEN_GRAY is '灰度调用：1是、0否';
comment on column T_MICSERVICE_ROUTES.STATUS is '状态:1启用、0停用';
comment on column T_MICSERVICE_ROUTES.CREATE_DATE is '创建日期';
comment on column T_MICSERVICE_ROUTES.UPDATE_DATE is '最后更新日期';

alter table T_MICSERVICE_ROUTES
   add constraint FK_MICSER_REF_ROUTES foreign key (SERVICE_ID)
      references T_MICSERVICE_CONFIG (ID);


drop table T_CONFIG cascade constraints;
create table T_CONFIG  (
   ID                   VARCHAR2(50)                    not null,
   C_CODE               VARCHAR2(50)                    not null,
   C_ITEM               VARCHAR2(200)                   not null,
   C_DESCRIP            VARCHAR2(200),
   C_TYPE               VARCHAR2(50)                    not null,
   constraint PK_T_CONFIG primary key (ID)
);

comment on table T_CONFIG is '系统配置项实体类';
comment on column T_CONFIG.ID is '主键';
comment on column T_CONFIG.C_CODE is '码';
comment on column T_CONFIG.C_ITEM is '项';
comment on column T_CONFIG.C_DESCRIP is '说明';
comment on column T_CONFIG.C_TYPE is '类型';


create index INDEX_CONFIG_GROUP on T_CONFIG (
   C_CODE ASC,
   C_TYPE ASC
);

drop table BO_TASK_DISPATCH_CONFIG cascade constraints;
create table BO_TASK_DISPATCH_CONFIG  (
   ID                   VARCHAR2(36)                    not null,
   PARENT_ID            VARCHAR2(36)                   default '-1' not null,
   MEMBER_CODE          VARCHAR2(6)                    default '0' not null,
   TASK_NAME            VARCHAR2(90),
   TASK_TYPE            VARCHAR2(4)                    default 'AUTO' not null,
   TASK_NO              VARCHAR2(13)                    not null,
   TASK_DESC            VARCHAR2(200),
   STATUS               VARCHAR2(1)                    default '0' not null,
   CLASS_NAME           VARCHAR2(80)                    not null,
   SLEEP_TIME           VARCHAR2(9)                    default '0' not null,
   WAIT_TIME            VARCHAR2(3)                    default '0' not null,
   RESET_COUNT          INT                            default 0 not null,
   QUEUE_NAME           VARCHAR2(30)                    not null,
   TREE_CODE            VARCHAR2(60),
   SORT_NUM          INT                            default 0 not null,
   DEPT_ID              VARCHAR2(36),
   DEPT_NAME            VARCHAR2(150),
   CREATE_USER_ID       VARCHAR2(36),
   CREATE_USER_NAME     VARCHAR2(40),
   CREATE_DATE          DATE                           default sysdate not null,
   UPDATE_USER_ID       VARCHAR2(36),
   UPDATE_USER_NAME     VARCHAR2(40),
   UPDATE_DATE          DATE                           default sysdate not null,
   DEL_FLAG             VARCHAR2(1)                    default 'N' not null,
   PRODUCT_ID           VARCHAR2(10)                   default '01'  not null,
   TASK_SOURCE          VARCHAR2(150),
   TASK_SOURCEID        VARCHAR2(50),
   QUEUE_NODE           VARCHAR2(30), 

   constraint PK_BO_TASK_DISPATCH_CONFIG primary key (ID)
);

comment on table BO_TASK_DISPATCH_CONFIG is '统一任务调度配置';
comment on column BO_TASK_DISPATCH_CONFIG.ID is '主键';
comment on column BO_TASK_DISPATCH_CONFIG.PARENT_ID is '主任务ID，默认为-1代表时主任务';
comment on column BO_TASK_DISPATCH_CONFIG.MEMBER_CODE is '会员编码-汉口票据池不存，所以默认0';
comment on column BO_TASK_DISPATCH_CONFIG.TASK_TYPE is '任务分类-AUTO自动、HAND人工、WAIT等待';
comment on column BO_TASK_DISPATCH_CONFIG.TASK_NO is '任务编号-由4位任务类型+6为序号组成。任务最多嵌套3层，每层占3位序号。初始从100100100开始';
comment on column BO_TASK_DISPATCH_CONFIG.TASK_DESC is '任务功能描述';
comment on column BO_TASK_DISPATCH_CONFIG.STATUS is '状态：0新增、1启用、2停用';
comment on column BO_TASK_DISPATCH_CONFIG.CLASS_NAME is '业务处理服务名';
comment on column BO_TASK_DISPATCH_CONFIG.SLEEP_TIME is '休眠延迟时间-单位毫秒。每个任务延迟处理时间';
comment on column BO_TASK_DISPATCH_CONFIG.WAIT_TIME is '等待时间-单位分钟。等待节点最多等待时间';
comment on column BO_TASK_DISPATCH_CONFIG.RESET_COUNT is '重复处理次数';
comment on column BO_TASK_DISPATCH_CONFIG.QUEUE_NAME is '队列名称';
comment on column BO_TASK_DISPATCH_CONFIG.TREE_CODE is '按照树型接口从主任务开始进行任务编号拼接';
comment on column BO_TASK_DISPATCH_CONFIG.DEPT_ID is '创建机构ID';
comment on column BO_TASK_DISPATCH_CONFIG.DEPT_NAME is '创建机构名称';
comment on column BO_TASK_DISPATCH_CONFIG.CREATE_USER_ID is '创建用户ID';
comment on column BO_TASK_DISPATCH_CONFIG.CREATE_USER_NAME is '创建用户名称';
comment on column BO_TASK_DISPATCH_CONFIG.CREATE_DATE is '创建日期';
comment on column BO_TASK_DISPATCH_CONFIG.UPDATE_USER_ID is '更新用户ID';
comment on column BO_TASK_DISPATCH_CONFIG.UPDATE_USER_NAME is '更新用户名称';
comment on column BO_TASK_DISPATCH_CONFIG.UPDATE_DATE is '更新日期';
comment on column BO_TASK_DISPATCH_CONFIG.DEL_FLAG is '逻辑删除标记-N未删除、D已删除';
comment on column BO_TASK_DISPATCH_CONFIG.PRODUCT_ID is '产品类型';
comment on column BO_TASK_DISPATCH_CONFIG.TASK_SOURCE is '跳转资源url';
comment on column BO_TASK_DISPATCH_CONFIG.TASK_SOURCEID is '跳转资源id';
comment on column BO_TASK_DISPATCH_CONFIG.QUEUE_NODE is '队列分发节点';


drop table BT_AUTOTASK_EXE cascade constraints;
create table BT_AUTOTASK_EXE  (
   ID                   VARCHAR2(36)                    not null,
   MEMBER_CODE          VARCHAR2(6)                    default '0' not null,
   TASK_ID              VARCHAR2(36)                    not null,
   RESET_COUNT          INT                            default 0 not null,
   REQ_PARAMS           VARCHAR2(300)                   not null,
   STATUS               VARCHAR2(1)                    default '0' not null,
   PROCE_STATUS         VARCHAR2(1)                    default '0',
   RESULT_DESC          VARCHAR2(300),
   PRODUCT_ID           VARCHAR2(10)                    not null,
   BUSI_ID              VARCHAR2(36)                    not null,
   BATCH_NO             VARCHAR2(30),
   BPS_NO               VARCHAR2(14),
   BPS_NAME             VARCHAR2(150),
   START_DATE           TIMESTAMP,
   END_DATE             TIMESTAMP,
   REDIRECT_URL         VARCHAR2(100),
   TREE_CODE            VARCHAR2(60),
   DEPT_ID              VARCHAR2(36),
   DEPT_NAME            VARCHAR2(150),
   ERROR_COUNT          INT                            default 0 not null,
   DEL_FLAG             VARCHAR2(2)                    default 'N' NOT NULL ,
   CREATE_DATE          TIMESTAMP                      default SYSDATE not null,
   constraint PK_BT_AUTOTASK_EXE primary key (ID)
);

comment on table BT_AUTOTASK_EXE is '自动任务执行流水';
comment on column BT_AUTOTASK_EXE.ID is '主键ID';
comment on column BT_AUTOTASK_EXE.MEMBER_CODE is '会员编码-汉口票据池不存，所以默认0';
comment on column BT_AUTOTASK_EXE.TASK_ID is '原任务ID';
comment on column BT_AUTOTASK_EXE.RESET_COUNT is '处理次数';
comment on column BT_AUTOTASK_EXE.REQ_PARAMS is '请求参数JSON格式';
comment on column BT_AUTOTASK_EXE.STATUS is '当前任务节点状态-0未启动、1处理完成、2排队中、3处理中、4处理失败';
comment on column BT_AUTOTASK_EXE.PROCE_STATUS is '流程状态-0未处理、1处理完成、3处理中、4处理失败';
comment on column BT_AUTOTASK_EXE.RESULT_DESC is '处理结果描述';
comment on column BT_AUTOTASK_EXE.PRODUCT_ID is '原业务类型';
comment on column BT_AUTOTASK_EXE.BUSI_ID is '原业务ID';
comment on column BT_AUTOTASK_EXE.BATCH_NO is '原业务批次号(票号)';
comment on column BT_AUTOTASK_EXE.BPS_NO is '票据池编号';
comment on column BT_AUTOTASK_EXE.BPS_NAME is '票据池名称';
comment on column BT_AUTOTASK_EXE.START_DATE is '开始执行日期';
comment on column BT_AUTOTASK_EXE.END_DATE is '执行结束日期';
comment on column BT_AUTOTASK_EXE.REDIRECT_URL is '原业务详情页面访问地址';
comment on column BT_AUTOTASK_EXE.TREE_CODE is '按照树型接口从主任务开始进行任务编号拼接';
comment on column BT_AUTOTASK_EXE.DEPT_ID is '操作机构ID';
comment on column BT_AUTOTASK_EXE.DEPT_NAME is '操作机构名称';
comment on column BT_AUTOTASK_EXE.ERROR_COUNT is '错误次数';
comment on column BT_AUTOTASK_EXE.DEL_FLAG is '删除标记';
comment on column BT_AUTOTASK_EXE.CREATE_DATE is '创建日期';

--在线流贷协议表
drop table PED_ONLINE_CRDT_PROTOCOL;
CREATE TABLE PED_ONLINE_CRDT_PROTOCOL (
	ID VARCHAR2(40) primary key NOT NULL,
	BPS_ID VARCHAR2(40),
	BPS_NO VARCHAR2(40),
	BPS_NAME VARCHAR2(240),
	CUST_NUMBER VARCHAR2(20),
	CUST_ORGCODE VARCHAR2(18),
	CUST_NAME VARCHAR2(240),
	PROTOCOL_STATUS VARCHAR2(1),
	ONLINE_CRDT_NO VARCHAR2(15),
	BASE_CREDIT_NO VARCHAR2(20),
	EBK_CUST_NO VARCHAR2(110),
	POOL_CREDIT_RATIO NUMBER(10,2),
	ONLINE_LOAN_TOTAL NUMBER(20,2) default 0,
	USED_AMT NUMBER(20,2) default 0,
	BASE_RATE_TYPE VARCHAR2(3),
	RATE_FLOAT_TYPE VARCHAR2(1),
	RATE_FLOAT_VALUE NUMBER(20,2) ,
	OVER_RATE_FLOAT_TYPE VARCHAR2(1),
	OVER_RATE_FLOAT_VALUE NUMBER(20,2) ,
	MAKE_LOAN_TYPE VARCHAR2(1),
	REPAYMENT_TYPE VARCHAR2(1),
	IS_AUTO_DEDUCT VARCHAR2(1),
	IS_DISC_INTEREST VARCHAR2(1),
	LOAN_ACCT_NO VARCHAR2(40),
	LOAN_ACCT_NAME VARCHAR2(240),
	DEDU_ACCT_NO VARCHAR2(40),
	DEDU_ACCT_NAME VARCHAR2(240),
	IN_ACCT_BRANCH_NO VARCHAR2(12),
	IN_ACCT_BRANCH_NAME VARCHAR2(240),
	CONTRACT_NO VARCHAR2(30),
	GUARANTOR VARCHAR2(240),
	APP_NAME VARCHAR2(240),
	APP_NO VARCHAR2(12),
	guarantorNo VARCHAR2(240),
	SIGN_BRANCH_NO VARCHAR2(12),
	SIGN_BRANCH_NAME VARCHAR2(240),
	OPEN_DATE DATE,
	CHANGE_DATE DATE,
	DUE_DATE DATE,
	CREATE_TIME timestamp,
	UPDATE_TIME timestamp,
	LD_FLAG VARCHAR2(1) DEFAULT '1'
	);
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.PROTOCOL_STATUS       IS '在线协议状态';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.ONLINE_CRDT_NO        IS '在线流贷编号';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.BASE_CREDIT_NO        IS '基本授信额度';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.EBK_CUST_NO           IS '网银客户号 ';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.POOL_CREDIT_RATIO     IS '票据池额度比例（%）';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.ONLINE_LOAN_TOTAL     IS '在线流贷总额';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.BASE_RATE_TYPE        IS '基准利率类型';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.RATE_FLOAT_TYPE       IS '利率浮动方式';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.RATE_FLOAT_VALUE      IS '利率浮动值（%）';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.OVER_RATE_FLOAT_TYPE  IS '逾期利率浮动方式';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.OVER_RATE_FLOAT_VALUE IS '逾期利率浮动值（%）';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.MAKE_LOAN_TYPE        IS '放款方式  ';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.REPAYMENT_TYPE        IS '还款方式  ';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.IS_AUTO_DEDUCT        IS '是否自动扣划本息';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.IS_DISC_INTEREST      IS '是否贴息  ';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.LOAN_ACCT_NO          IS '放款账户账号';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.LOAN_ACCT_NAME      IS '放款账户名称';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.DEDU_ACCT_NO          IS '扣款账户账号';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.DEDU_ACCT_NAME        IS '扣款账户名称';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.IN_ACCT_BRANCH_NO     IS '入账机构所号';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.IN_ACCT_BRANCH_NAME   IS '入账机构名称';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.CONTRACT_NO           IS '担保合同编号';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.GUARANTOR             IS '担保人名称';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.APP_NAME              IS '经办人名称';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.APP_NO                IS '经办人编号';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.SIGN_BRANCH_NO        IS '签约机构所号';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.SIGN_BRANCH_NAME      IS '签约机构名称';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.OPEN_DATE             IS '开通日期';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.CHANGE_DATE           IS '变更日期';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.DUE_DATE              IS '到期日期';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.CREATE_TIME           IS '创建时间';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.UPDATE_TIME           IS '最近修改时间';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.guarantorNo   IS '担保人核心客户号';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL.LD_FLAG  IS '在线流贷开关';
	
--在线银承协议表
drop table PED_ONLINE_ACPT_PROTOCOL;
	CREATE TABLE PED_ONLINE_ACPT_PROTOCOL (
	    ID VARCHAR2(40) primary key NOT NULL,
	    BPS_ID VARCHAR2(40),
	    BPS_NO VARCHAR2(40),
		BPS_NAME VARCHAR2(240),
		CUST_NUMBER VARCHAR2(10),
		CUST_ORGCODE VARCHAR2(18),
		CUST_NAME VARCHAR2(240),
		PROTOCOL_STATUS VARCHAR2(1),
		ONLINE_ACPT_NO VARCHAR2(15),
		BASE_CREDIT_NO VARCHAR2(30),
		EBK_CUST_NO VARCHAR2(110),
		ONLINE_ACPT_TOTAL NUMBER(20,2) default 0,
		USED_AMT NUMBER(20,2) default 0,
		ACCEPTOR_BANK_NO VARCHAR2(12),
		ACCEPTOR_BANK_NAME VARCHAR2(240),
		DEPOSIT_ACCT_NO VARCHAR2(40),
		DEPOSIT_ACCT_NAME VARCHAR2(240),
		DEPOSIT_BRANCH_NO VARCHAR2(12),
		DEPOSIT_BRANCH_NAME VARCHAR2(240),
		DEPOSIT_RATE_LEVEL VARCHAR2(4) ,
		DEPOSIT_RATE_FLOAT_FLAG VARCHAR2(1),
		DEPOSIT_RATE_FLOAT_VALUE NUMBER(20,2) default 0,
		DEPOSIT_RATIO NUMBER(10,2) default 0,
		POOL_CREDIT_RATIO NUMBER(10,2) default 0,
		FEE_RATE NUMBER(10,2) default 0,
		IN_ACCT_BRANCH_NO VARCHAR2(12),
		IN_ACCT_BRANCH_NAME VARCHAR2(240),
		CONTRACT_NO VARCHAR2(30),
		GUARANTOR VARCHAR2(240),
		guarantorNo VARCHAR2(10),
		APP_NAME VARCHAR2(240),
		APP_NO VARCHAR2(20),
		SIGN_BRANCH_NO VARCHAR2(12),
		SIGN_BRANCH_NAME VARCHAR2(240),
		OPEN_DATE DATE,
		CHANGE_DATE DATE,
		DUE_DATE DATE,
		CREATE_TIME TIMESTAMP,
		UPDATE_TIME TIMESTAMP,
		YC_FLAG VARCHAR2(1) DEFAULT '1' );
	
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.BPS_ID                  IS '票据池协议表ID';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.BPS_NO                  IS '票据池协议号';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.BPS_NAME                IS '票据池名称';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.CUST_NUMBER             IS '客户号';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.CUST_ORGCODE            IS '客户组织机构代码';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.CUST_NAME               IS '客户名称';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.PROTOCOL_STATUS         IS '在线协议状态';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.ONLINE_ACPT_NO          IS '在线银承编号';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.BASE_CREDIT_NO          IS '基本授信额度编号';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.EBK_CUST_NO             IS '网银客户号';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.ONLINE_ACPT_TOTAL       IS '在线银承总额';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.ACCEPTOR_BANK_NO        IS '承兑人承兑行行号';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.ACCEPTOR_BANK_NAME      IS '承兑人承兑行名称';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.DEPOSIT_ACCT_NO         IS '扣收保证金账号';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.DEPOSIT_ACCT_NAME       IS '扣收保证金账户名称';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.ACCEPTOR_BANK_NO        IS '扣收保证金账户开户行';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.ACCEPTOR_BANK_NAME      IS '扣收保证金账户开户行名称';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.DEPOSIT_RATE_LEVEL      IS '保证金利率档次';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.DEPOSIT_RATE_FLOAT_FLAG IS '保证金利率浮动标志';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.DEPOSIT_RATE_FLOAT_VALUE IS '保证金利率浮动值';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.DEPOSIT_RATIO           IS '保证金比例（%）';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.POOL_CREDIT_RATIO       IS '票据池额度占用比例（%） ';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.FEE_RATE                IS '手续费率（%）';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.IN_ACCT_BRANCH_NO       IS '入账机构所号';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.IN_ACCT_BRANCH_NAME     IS '入账机构名称';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.CONTRACT_NO             IS '担保合同编号';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.GUARANTOR               IS '担保人名称';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.guarantorNo               IS '担保人核心客户号';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.APP_NAME                IS '经办人名称';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.APP_NO                  IS '经办人编号';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.SIGN_BRANCH_NO          IS '签约机构所号';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.SIGN_BRANCH_NAME        IS '签约机构名称';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.OPEN_DATE               IS '开通日期';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.CHANGE_DATE             IS '变更日期';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.DUE_DATE                IS '到期日期 ';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.CREATE_TIME             IS '创建时间';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.UPDATE_TIME             IS '最近修改时间';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.YC_FLAG  IS '在线银承开关';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.guarantorNo   IS '担保人核心客户号';
	
--在线银承收票人	
drop table PED_ONLINE_ACPT_INFO;
CREATE TABLE PED_ONLINE_ACPT_INFO (
	ID VARCHAR2(40) primary key NOT NULL,
	PAYEE_ID VARCHAR2(40),
	PAYEE_ACCT_NAME VARCHAR2(240),
	PAYEE_ACCT_NO VARCHAR2(30),
	PAYEE_OPEN_BANK_NO VARCHAR2(12),
	PAYEE_OPEN_BANK_NAME VARCHAR2(240),
	PAYEE_TOTAL_AMT NUMBER(20,2) default 0,
	PAYEE_USED_AMT NUMBER(20,2) default 0,
	PAYEE_STATUS VARCHAR2(1),
	ONLINE_ACPT_NO VARCHAR2(20),
	ACPT_ID VARCHAR2(40),
	CREATE_TIME TIMESTAMP,
	UPDATE_TIME TIMESTAMP
	);
	COMMENT ON COLUMN PED_ONLINE_ACPT_INFO.PAYEE_ID             IS '收票人编号';
	COMMENT ON COLUMN PED_ONLINE_ACPT_INFO.PAYEE_ACCT_NAME      IS '收票人名称';
	COMMENT ON COLUMN PED_ONLINE_ACPT_INFO.PAYEE_ACCT_NO        IS '收票人账号';
	COMMENT ON COLUMN PED_ONLINE_ACPT_INFO.PAYEE_OPEN_BANK_NO   IS '收票人开户行行号';
	COMMENT ON COLUMN PED_ONLINE_ACPT_INFO.PAYEE_OPEN_BANK_NAME IS '收票人开户行名称';
	COMMENT ON COLUMN PED_ONLINE_ACPT_INFO.PAYEE_TOTAL_AMT      IS '收票人收票总额';
	COMMENT ON COLUMN PED_ONLINE_ACPT_INFO.PAYEE_USED_AMT       IS '收票人已收票总额';
	COMMENT ON COLUMN PED_ONLINE_ACPT_INFO.PAYEE_STATUS         IS '收票人状态';
	COMMENT ON COLUMN PED_ONLINE_ACPT_INFO.ONLINE_ACPT_NO       IS '在线银承协议编号';
	COMMENT ON COLUMN PED_ONLINE_ACPT_INFO.ACPT_ID              IS '在线银承协议ID';
	COMMENT ON COLUMN PED_ONLINE_ACPT_INFO.CREATE_TIME          IS '创建时间';
	COMMENT ON COLUMN PED_ONLINE_ACPT_INFO.UPDATE_TIME          IS '最近修改时间';

--在线流贷收款人
drop table PED_ONLINE_CRDT_INFO;
CREATE TABLE PED_ONLINE_CRDT_INFO (
	ID VARCHAR2(40) primary key NOT NULL,
	PAYEE_ID VARCHAR2(40),
	PAYEE_ACCT_NAME VARCHAR2(240),
	PAYEE_ACCT_NO VARCHAR2(30),
	PAYEE_OPEN_BANK_NO VARCHAR2(12) ,
	PAYEE_OPEN_BANK_NAME VARCHAR2(240) ,
	PAY_TYPE VARCHAR2(4),
	IS_LOCAL VARCHAR2(1),
	PAYEE_TOTAL_AMT NUMBER(20,2) default 0,
	PAYEE_USED_AMT NUMBER(20,2) default 0,
	PAYEE_STATUS VARCHAR2(1),
	ONLINE_CRDT_NO VARCHAR2(20),
	CRDT_ID VARCHAR2(40),
	CREATE_TIME TIMESTAMP,
	UPDATE_TIME TIMESTAMP
	);
	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO.PAYEE_ID             IS '收款人编号';
	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO.PAYEE_ACCT_NAME      IS '收款人名称';
	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO.PAYEE_ACCT_NO        IS '收款人账号';
	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO.PAY_TYPE             IS '支付类型 1自主支付 2 受托支付';
	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO.PAYEE_OPEN_BANK_NO   IS '收款人开户行行号';
	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO.PAYEE_OPEN_BANK_NAME IS '收款人开户行名称';
	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO.PAYEE_TOTAL_AMT      IS '收款人收票总额';
	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO.PAYEE_USED_AMT       IS '收款人已收票总额';
	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO.IS_LOCAL         IS '是否跨行';
	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO.PAYEE_STATUS         IS '收款人状态';
	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO.ONLINE_CRDT_NO       IS '在线银承协议编号';
	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO.CRDT_ID              IS '在线银承协议主键';
	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO.CREATE_TIME          IS '创建时间';
	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO.UPDATE_TIME          IS '最近修改时间';
	
--短信通知人
drop table PED_ONLINE_MSG_INFO;
CREATE TABLE PED_ONLINE_MSG_INFO (
	ID VARCHAR2(40) primary key NOT NULL,
	ADDRESSEE_NO VARCHAR2(40),
	ADDRESSEE_NAME VARCHAR2(240),
	ADDRESSEE_ROLE VARCHAR2(1),
	ADDRESSEE_PHONE_NO VARCHAR2(11),
	ONLINE_PROTOCOL_TYPE VARCHAR2(3),
	ONLINE_NO VARCHAR2(40),
	ONLINE_PROTOCOL_ID VARCHAR2(40),
	CREATE_TIME TIMESTAMP,
	UPDATE_TIME TIMESTAMP);
	
	COMMENT ON COLUMN PED_ONLINE_MSG_INFO.ADDRESSEE_NO         IS '联系人编号';
	COMMENT ON COLUMN PED_ONLINE_MSG_INFO.ADDRESSEE_NAME       IS '联系人名称';
	COMMENT ON COLUMN PED_ONLINE_MSG_INFO.ADDRESSEE_ROLE       IS '联系人身份';
	COMMENT ON COLUMN PED_ONLINE_MSG_INFO.ADDRESSEE_PHONE_NO   IS '联系人电话';
	COMMENT ON COLUMN PED_ONLINE_MSG_INFO.ONLINE_PROTOCOL_TYPE IS '在线协议类型';
	COMMENT ON COLUMN PED_ONLINE_MSG_INFO.ONLINE_NO            IS '在线协议编号';
	COMMENT ON COLUMN PED_ONLINE_MSG_INFO.ONLINE_PROTOCOL_ID   IS '在线协议主键';
	COMMENT ON COLUMN PED_ONLINE_MSG_INFO.CREATE_TIME          IS '创建时间';
	COMMENT ON COLUMN PED_ONLINE_MSG_INFO.UPDATE_TIME          IS '最近修改时间';
	
--在线银承协议历史表
drop table PED_ONLINE_ACPT_PROTOCOL_HIST;
CREATE TABLE PED_ONLINE_ACPT_PROTOCOL_HIST(
	ID VARCHAR2(40) primary key NOT NULL,
	CUST_NAME VARCHAR2(150),
	PROTOCOL_STATUS VARCHAR2(1),
	ONLINE_ACPT_NO VARCHAR2(20),
	BPS_NO VARCHAR2(20),
	BASE_CREDIT_NO VARCHAR2(20),
	EBK_CUST_NO VARCHAR2(110),
	ONLINE_ACPT_TOTAL NUMBER(20,2) default 0,
	USED_AMT NUMBER(20,2) default 0,
	ACCEPTOR_BANK_NO VARCHAR2(12),
	ACCEPTOR_BANK_NAME VARCHAR2(240),
	DEPOSIT_ACCT_NO VARCHAR2(20),
	DEPOSIT_ACCT_NAME VARCHAR2(240),
	DEPOSIT_RATE_LEVEL VARCHAR2(1),
	DEPOSIT_RATE_FLOAT_FLAG VARCHAR2(1),
	DEPOSIT_RATE_FLOAT_VALUE NUMBER(10,2) default 0,
	DEPOSIT_RATIO NUMBER(10,2) default 0,
	POOL_CREDIT_RATIO NUMBER(10,2) default 0,
	guarantorNo VARCHAR2(10),
	FEE_RATE NUMBER(10,2) default 0,
	IN_ACCT_BRANCH_NO VARCHAR2(20),
	IN_ACCT_BRANCH_NAME VARCHAR2(240),
	CONTRACT_NO VARCHAR2(30),
	APP_NAME VARCHAR2(240),
	APP_NO VARCHAR2(10),
	SIGN_BRANCH_NO VARCHAR2(20),
	SIGN_BRANCH_NAME VARCHAR2(240),
	CHANGE_DATE date,
	DUE_DATE date,
	MODE_MARK VARCHAR2(60),
	MODE_CONTENT VARCHAR2(40),
	LAST_SOURCE_ID VARCHAR2(40),
	CREATE_TIME TIMESTAMP,
	UPDATE_TIME TIMESTAMP,
	YC_FLAG VARCHAR2(1) DEFAULT '1' );
	
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.CUST_NAME  IS '客户名称';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.PROTOCOL_STATUS  IS '在线协议状态';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.ONLINE_ACPT_NO  IS '在线银承编号';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.BPS_NO  IS '票据池协议号';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.BASE_CREDIT_NO  IS '基本授信额度编号';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.EBK_CUST_NO  IS '网银客户号';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.ONLINE_ACPT_TOTAL  IS '在线银承总额';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.ACCEPTOR_BANK_NO  IS '承兑人承兑行行号';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.ACCEPTOR_BANK_NAME  IS '承兑人承兑行名称';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.DEPOSIT_ACCT_NO  IS '扣收保证金账号';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.DEPOSIT_ACCT_NAME  IS '扣收保证金账户名称';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.DEPOSIT_RATE_LEVEL  IS '保证金利率档次';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.DEPOSIT_RATE_FLOAT_FLAG  IS '保证金利率浮动标志';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.DEPOSIT_RATE_FLOAT_VALUE  IS '保证金利率浮动值';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.DEPOSIT_RATIO  IS '保证金比例（%）';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.POOL_CREDIT_RATIO  IS '票据池额度占用比例（%）';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.FEE_RATE  IS '手续费率（%）';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.IN_ACCT_BRANCH_NO  IS '入账机构所号';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.IN_ACCT_BRANCH_NAME  IS '入账机构名称';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.CONTRACT_NO  IS '担保合同编号';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL.guarantorNo   IS '担保人核心客户号';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.APP_NAME  IS '经办人名称';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.APP_NO  IS '经办人编号';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.SIGN_BRANCH_NO  IS '签约机构所号';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.SIGN_BRANCH_NAME  IS '签约机构名称';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.CHANGE_DATE  IS '变更日期';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.DUE_DATE  IS '到期日期';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.MODE_MARK  IS '修改模式';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.MODE_CONTENT  IS '修改内容';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.CREATE_TIME  IS '创建时间';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.UPDATE_TIME  IS '最近修改时间';
	COMMENT ON COLUMN PED_ONLINE_ACPT_PROTOCOL_HIST.YC_FLAG  IS '在线银承开关';
	
--短信表
drop table T_MESSAGE;
CREATE TABLE T_MESSAGE(
	ID VARCHAR2(40) primary key NOT NULL,
	ROLE VARCHAR2(1),
	BUSI_TYPE VARCHAR2(4),
	PHONE_NO VARCHAR2(20),
	MSG_CONTENT VARCHAR2(240),
	CREATE_TIME TIMESTAMP,
	UPDATE_TIME TIMESTAMP,
	SEND_RESULT VARCHAR2(10),
	online_No   varchar2(30),
	addressee_Name varchar2(120)
);
COMMENT ON COLUMN T_MESSAGE.ROLE  IS '角色';
COMMENT ON COLUMN T_MESSAGE.BUSI_TYPE  IS '业务类型';
COMMENT ON COLUMN T_MESSAGE.PHONE_NO  IS '电话号码';
COMMENT ON COLUMN T_MESSAGE.MSG_CONTENT  IS '短信内同';
COMMENT ON COLUMN T_MESSAGE.SEND_RESULT  IS '发送结果';
COMMENT ON COLUMN T_MESSAGE.CREATE_TIME  IS '发送时间';
COMMENT ON COLUMN T_MESSAGE.CREATE_TIME  IS '更新时间';
COMMENT ON COLUMN T_MESSAGE.online_No  IS '在线协议编号';
COMMENT ON COLUMN T_MESSAGE.addressee_Name  IS '联系人名称';	

--在线流贷协议历史表
drop table PED_ONLINE_CRDT_PROTOCOL_HIST;
CREATE TABLE PED_ONLINE_CRDT_PROTOCOL_HIST(
	ID VARCHAR2(40) primary key NOT NULL,
	CUST_NAME VARCHAR2(240),
	PROTOCOL_STATUS VARCHAR2(1),
	ONLINE_CRDT_NO VARCHAR2(20),
	BASE_CREDIT_NO VARCHAR2(20),
	EBK_CUST_NO VARCHAR2(110),
	POOL_CREDIT_RATIO NUMBER(10,2) default 0,
	ONLINE_LOAN_TOTAL NUMBER(20,2) default 0,
	USED_AMT NUMBER(20,2) default 0,
	RATE_FLOAT_TYPE VARCHAR2(1),
	RATE_FLOAT_VALUE NUMBER(10,2) default 0,
	OVER_RATE_FLOAT_TYPE VARCHAR2(1),
	OVER_RATE_FLOAT_VALUE NUMBER(10,2) default 0,
	LOAN_ACCT_NO VARCHAR2(20),
	LOAN_ACCT_NAME VARCHAR2(240),
	DEDU_ACCT_NO VARCHAR2(20),
	DEDU_ACCT_NAME VARCHAR2(240),
	IN_ACCT_BRANCH_NO VARCHAR2(20),
	IN_ACCT_BRANCH_NAME VARCHAR2(240),
	CONTRACT_NO VARCHAR2(30),
	APP_NAME VARCHAR2(240),
	APP_NO VARCHAR2(20),
	SIGN_BRANCH_NO VARCHAR2(20),
	SIGN_BRANCH_NAME VARCHAR2(240),
	CHANGE_DATE timestamp,
	DUE_DATE date,
	MODE_MARK VARCHAR2(60),
	MODE_CONTENT VARCHAR2(40),
	LAST_SOURCE_ID VARCHAR2(40),
	CREATE_TIME TIMESTAMP,
   	UPDATE_TIME TIMESTAMP,
   	BASE_RATE_TYPE VARCHAR2(3),
   	MAKE_LOAN_TYPE VARCHAR2(1),
	REPAYMENT_TYPE VARCHAR2(1),
	IS_AUTO_DEDUCT VARCHAR2(1),
	IS_DISC_INTEREST VARCHAR2(1),
   	guarantorNo VARCHAR2(10),
   	LD_FLAG VARCHAR2(1) DEFAULT '1'
   	
);
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.CUST_NAME  IS '客户名称';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.PROTOCOL_STATUS  IS '在线协议状态';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.ONLINE_CRDT_NO  IS '在线流贷编号';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.BASE_CREDIT_NO  IS '基本授信额度编号';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.EBK_CUST_NO  IS '网银客户号';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.POOL_CREDIT_RATIO  IS '票据池额度比例（%）';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.ONLINE_LOAN_TOTAL  IS '在线流贷总额';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.RATE_FLOAT_TYPE  IS '利率浮动方式';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.RATE_FLOAT_VALUE  IS '利率浮动值（%）';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.OVER_RATE_FLOAT_TYPE  IS '逾期利率浮动方式';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.OVER_RATE_FLOAT_VALUE  IS '逾期利率浮动值（%）';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.LOAN_ACCT_NO  IS '放款账户账号';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.LOAN_ACCT_NAME  IS '放款账户名称';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.DEDU_ACCT_NO  IS '扣款账户账号';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.DEDU_ACCT_NAME  IS '扣款账户名称';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.IN_ACCT_BRANCH_NO  IS '入账机构所号';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.IN_ACCT_BRANCH_NAME  IS '入账机构名称';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.CONTRACT_NO  IS '担保合同编号';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.APP_NAME  IS '经办人名称';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.APP_NO  IS '经办人编号';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.SIGN_BRANCH_NO  IS '签约机构所号';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.SIGN_BRANCH_NAME  IS '签约机构名称';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.CHANGE_DATE  IS '变更日期';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.DUE_DATE  IS '到期日期';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.MODE_MARK  IS '修改标记';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.MODE_CONTENT  IS '修改内容';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.CREATE_TIME  IS '创建时间';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.UPDATE_TIME  IS '最近修改时间';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.BASE_RATE_TYPE        IS '基准利率类型';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.MAKE_LOAN_TYPE        IS '放款方式  ';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.REPAYMENT_TYPE        IS '还款方式  ';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.IS_AUTO_DEDUCT        IS '是否自动扣划本息';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.IS_DISC_INTEREST      IS '是否贴息  ';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.guarantorNo   IS '担保人核心客户号';
	COMMENT ON COLUMN PED_ONLINE_CRDT_PROTOCOL_HIST.LD_FLAG  IS '在线流贷开关';

--在线流贷支付计划表
drop table PL_CRDT_PAY_PLAN;
CREATE TABLE PL_CRDT_PAY_PLAN(
	ID VARCHAR2(40) primary key NOT NULL,
	CRDT_ID VARCHAR2(40),
	SERIAL_NO VARCHAR2(40),
	CONTRACT_NO VARCHAR2(40),
	LOAN_NO VARCHAR2(40),
	ONLINE_CRDT_NO VARCHAR2(40),
	BPS_NO VARCHAR2(40),
	LOAN_ACCT_NO VARCHAR2(40),
	LOAN_ACCT_NAME VARCHAR2(150),
	DEDU_ACCT_NO VARCHAR2(20),
	DEDU_ACCT_NAME VARCHAR2(150),
	DEDU_BANK_CODE VARCHAR2(40),
	DEDU_BANK_NAME VARCHAR2(150),
	IS_LOCAL VARCHAR2(1),
	TOTAL_AMT NUMBER(20,2) default 0,
	USED_AMT NUMBER(20,2) default 0,
	REPAY_AMT NUMBER(20,2) default 0,
	STATUS VARCHAR2(10),
	OPERATOR_TYPE VARCHAR2(10),
	APP_NO VARCHAR2(10),
	CREATE_DATE TIMESTAMP,
	UPDATE_TIME TIMESTAMP,
	opera_Status VARCHAR2(10),
	opera_Batch VARCHAR2(20),
	operation_Type  VARCHAR2(2),
	old_id  VARCHAR2(50),
	DETAIL_ID VARCHAR2(40)
);

COMMENT ON COLUMN PL_CRDT_PAY_PLAN.CRDT_ID  IS '支付批次id';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN.SERIAL_NO  IS '序列号';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN.CONTRACT_NO  IS '合同编号';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN.LOAN_NO  IS '借据编号';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN.ONLINE_CRDT_NO  IS '在线流贷协议编号';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN.BPS_NO  IS '票据池编号';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN.LOAN_ACCT_NO  IS '付款账号';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN.LOAN_ACCT_NAME  IS '付款户名';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN.DEDU_ACCT_NO  IS '收款人名称';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN.DEDU_ACCT_NAME  IS '收款人账号';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN.DEDU_BANK_CODE  IS '收款人开户行行号';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN.DEDU_BANK_NAME  IS '收款人开户行名称';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN.IS_LOCAL  IS '是否跨行';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN.TOTAL_AMT  IS '总金额';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN.USED_AMT  IS '已支付金额';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN.REPAY_AMT  IS '取消支付的金额';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN.STATUS  IS '状态';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN.OPERATOR_TYPE  IS '操作';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN.APP_NO  IS '经办人';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN.CREATE_DATE  IS '创建时间';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN.UPDATE_TIME  IS '最近修改时间';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN.opera_Status  IS '操作状态';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN.opera_Batch  IS '操作批次号';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN.operation_Type  IS '操作类型';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN.old_id  IS '原数据id';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN.DETAIL_ID  IS '明细id';

--在线流贷支付计划缓存表
drop table PL_CRDT_PAY_CACHE_PLAN;
CREATE TABLE PL_CRDT_PAY_CACHE_PLAN(
	ID VARCHAR2(40) primary key NOT NULL,
	CRDT_ID VARCHAR2(40),
	SERIAL_NO VARCHAR2(40),
	CONTRACT_NO VARCHAR2(40),
	LOAN_NO VARCHAR2(40),
	ONLINE_CRDT_NO VARCHAR2(40),
	BPS_NO VARCHAR2(40),
	LOAN_ACCT_NO VARCHAR2(40),
	LOAN_ACCT_NAME VARCHAR2(150),
	DEDU_ACCT_NO VARCHAR2(20),
	DEDU_ACCT_NAME VARCHAR2(150),
	DEDU_BANK_CODE VARCHAR2(40),
	DEDU_BANK_NAME VARCHAR2(150),
	IS_LOCAL VARCHAR2(1),
	TOTAL_AMT NUMBER(20,2) default 0,
	USED_AMT NUMBER(20,2) default 0,
	REPAY_AMT NUMBER(20,2) default 0,
	STATUS VARCHAR2(10),
	OPERATOR_TYPE VARCHAR2(10),
	APP_NO VARCHAR2(10),
	CREATE_DATE TIMESTAMP,
	UPDATE_TIME TIMESTAMP,
	opera_Status VARCHAR2(10),
	opera_Batch VARCHAR2(20),
	operation_Type  VARCHAR2(2),
	old_id  VARCHAR2(50),
	DETAIL_ID  VARCHAR2(40)
);

COMMENT ON COLUMN PL_CRDT_PAY_CACHE_PLAN.CRDT_ID  IS '支付批次id';
COMMENT ON COLUMN PL_CRDT_PAY_CACHE_PLAN.SERIAL_NO  IS '序列号';
COMMENT ON COLUMN PL_CRDT_PAY_CACHE_PLAN.CONTRACT_NO  IS '合同编号';
COMMENT ON COLUMN PL_CRDT_PAY_CACHE_PLAN.LOAN_NO  IS '借据编号';
COMMENT ON COLUMN PL_CRDT_PAY_CACHE_PLAN.ONLINE_CRDT_NO  IS '在线流贷协议编号';
COMMENT ON COLUMN PL_CRDT_PAY_CACHE_PLAN.BPS_NO  IS '票据池编号';
COMMENT ON COLUMN PL_CRDT_PAY_CACHE_PLAN.LOAN_ACCT_NO  IS '付款账号';
COMMENT ON COLUMN PL_CRDT_PAY_CACHE_PLAN.LOAN_ACCT_NAME  IS '付款户名';
COMMENT ON COLUMN PL_CRDT_PAY_CACHE_PLAN.DEDU_ACCT_NO  IS '收款人名称';
COMMENT ON COLUMN PL_CRDT_PAY_CACHE_PLAN.DEDU_ACCT_NAME  IS '收款人账号';
COMMENT ON COLUMN PL_CRDT_PAY_CACHE_PLAN.DEDU_BANK_CODE  IS '收款人开户行行号';
COMMENT ON COLUMN PL_CRDT_PAY_CACHE_PLAN.DEDU_BANK_NAME  IS '收款人开户行名称';
COMMENT ON COLUMN PL_CRDT_PAY_CACHE_PLAN.IS_LOCAL  IS '是否跨行';
COMMENT ON COLUMN PL_CRDT_PAY_CACHE_PLAN.TOTAL_AMT  IS '总金额';
COMMENT ON COLUMN PL_CRDT_PAY_CACHE_PLAN.USED_AMT  IS '可用金额';
COMMENT ON COLUMN PL_CRDT_PAY_CACHE_PLAN.REPAY_AMT  IS '还款金额';
COMMENT ON COLUMN PL_CRDT_PAY_CACHE_PLAN.STATUS  IS '状态';
COMMENT ON COLUMN PL_CRDT_PAY_CACHE_PLAN.OPERATOR_TYPE  IS '操作';
COMMENT ON COLUMN PL_CRDT_PAY_CACHE_PLAN.APP_NO  IS '经办人';
COMMENT ON COLUMN PL_CRDT_PAY_CACHE_PLAN.CREATE_DATE  IS '创建时间';
COMMENT ON COLUMN PL_CRDT_PAY_CACHE_PLAN.UPDATE_TIME  IS '最近修改时间';
COMMENT ON COLUMN PL_CRDT_PAY_CACHE_PLAN.opera_Status  IS '操作状态';
COMMENT ON COLUMN PL_CRDT_PAY_CACHE_PLAN.opera_Batch  IS '操作批次号';
COMMENT ON COLUMN PL_CRDT_PAY_CACHE_PLAN.operation_Type  IS '操作类型';
COMMENT ON COLUMN PL_CRDT_PAY_CACHE_PLAN.old_id  IS '原数据id';
COMMENT ON COLUMN PL_CRDT_PAY_CACHE_PLAN.DETAIL_ID  IS '明细id';



--在线流贷支付计划表
drop table PL_CRDT_PAY_PLAN_HIST;
CREATE TABLE PL_CRDT_PAY_PLAN_HIST(
	ID VARCHAR2(40) primary key NOT NULL,
	PLAN_ID VARCHAR2(40),
	CRDT_ID VARCHAR2(40) ,
	SERIAL_NO VARCHAR2(40) ,
	CONTRACT_NO VARCHAR2(40) ,
	LOAN_NO VARCHAR2(40),
	ONLINE_CRDT_NO VARCHAR2(40) ,
	BPS_NO VARCHAR2(40) ,
	LOAN_ACCT_NO VARCHAR2(40) ,
	LOAN_ACCT_NAME VARCHAR2(150) ,
	DEDU_ACCT_NO VARCHAR2(20) ,
	DEDU_ACCT_NAME VARCHAR2(150) ,
	DEDU_BANK_CODE VARCHAR2(40),
	DEDU_BANK_NAME VARCHAR2(150),
	IS_LOCAL VARCHAR2(1),
	TOTAL_AMT NUMBER(20,2) default 0 ,
	USED_AMT NUMBER(20,2) default 0,
	REPAY_AMT NUMBER(20,2) default 0,
	STATUS VARCHAR2(10) ,
	OPERATOR_TYPE VARCHAR2(10),
	APP_NO VARCHAR2(10),
	CREATE_DATE TIMESTAMP,
	old_id VARCHAR2(40)
);

COMMENT ON COLUMN PL_CRDT_PAY_PLAN_HIST.CRDT_ID  IS '支付批次id';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN_HIST.PLAN_ID  IS '支付计划表ID';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN_HIST.SERIAL_NO  IS '序列号';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN_HIST.CONTRACT_NO  IS '合同编号';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN_HIST.LOAN_NO  IS '借据编号';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN_HIST.ONLINE_CRDT_NO  IS '在线流贷协议编号';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN_HIST.BPS_NO  IS '票据池编号';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN_HIST.LOAN_ACCT_NO  IS '付款账号';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN_HIST.LOAN_ACCT_NAME  IS '付款户名';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN_HIST.DEDU_ACCT_NO  IS '收款人名称';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN_HIST.DEDU_ACCT_NAME  IS '收款人账号';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN_HIST.DEDU_BANK_CODE  IS '收款人开户行行号';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN_HIST.DEDU_BANK_NAME  IS '收款人开户行名称';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN_HIST.IS_LOCAL  IS '是否跨行';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN_HIST.TOTAL_AMT  IS '总金额';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN_HIST.USED_AMT  IS '可用金额';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN_HIST.REPAY_AMT  IS '还款金额';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN_HIST.STATUS  IS '状态';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN_HIST.OPERATOR_TYPE  IS '操作';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN_HIST.APP_NO  IS '经办人';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN_HIST.CREATE_DATE  IS '创建时间';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN_HIST.OPERATOR_TYPE  IS '操作类型';
COMMENT ON COLUMN PL_CRDT_PAY_PLAN_HIST.old_id  IS '原数据id';

--在线银承批次表
drop table PL_ONLINE_ACPT_BATCH;
CREATE TABLE PL_ONLINE_ACPT_BATCH(
	ID VARCHAR2(40) primary key NOT NULL,
	BPS_NO VARCHAR2(40),
	BATCH_NO VARCHAR2(40),
	CONTRACT_NO VARCHAR2(80),
	ONLINE_ACPT_NO VARCHAR2(80),
	BRANCH_NO VARCHAR2(40),
	TOTAL_AMT NUMBER(20,2) default 0,
	APPLY_BANK_NO VARCHAR2(40),
	APPLY_BANK_NAME VARCHAR2(180),
	APPLY_NAME VARCHAR2(180),
	APPLY_ACCT VARCHAR2(40),
	APPLY_ORGCODE VARCHAR2(40),
	CUST_NO VARCHAR2(40),
	APPLY_DATE date,
	FEE_RATE NUMBER(20,2) default 0,
	POOL_CREDIT_RATIO NUMBER(20,2) default 0,
	DEPOSIT_RATIO NUMBER(20,2) default 0,
	DEPOSIT_RATE_LEVEL VARCHAR2(10),
	DEPOSIT_ACCT_NO VARCHAR2(40),
	DEPOSIT_ACCT_NAME VARCHAR2(180),
	DEPOSIT_RATE_FLOAT_FLAG VARCHAR2(10),
	DEPOSIT_RATE_FLOAT_VALUE NUMBER(20,2) default 0,
	IN_ACCT_BRANCH_NO VARCHAR2(40),
	IN_ACCT_BRANCH_NAME VARCHAR2(180),
	OPERATION_TYPE VARCHAR2(40),
	OPEN_FLAG VARCHAR2(10),
	ELCTRNC_SIGN VARCHAR2(3000),
	MANAGEER_NO VARCHAR2(40),
	MANAGEER_NAME VARCHAR2(180),
	STATUS VARCHAR2(10),
	DEAL_STATUS VARCHAR2(10),
	CREATE_TIME TIMESTAMP,
	UPDATE_TIME TIMESTAMP,
	task_Date TIMESTAMP
);
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.BATCH_NO  IS '批次号';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.CONTRACT_NO  IS '在线银承合同号';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.BPS_NO  IS '票据池编号';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.ONLINE_ACPT_NO  IS '在线银承协议编号';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.BRANCH_NO  IS '机构id';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.TOTAL_AMT  IS '票据总面额';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.APPLY_BANK_NO  IS '申请人开户行行号';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.APPLY_BANK_NAME  IS '申请人开户行行名';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.APPLY_NAME  IS '申请人名称';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.APPLY_ACCT  IS '申请人账号';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.APPLY_ORGCODE  IS '申请人组织机构代码';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.CUST_NO  IS '申请人核心客户号';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.APPLY_DATE  IS '承兑申请日期';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.FEE_RATE  IS '手续费率（%）';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.POOL_CREDIT_RATIO  IS '票据池额度占用比例（%）';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.DEPOSIT_RATIO  IS '保证金比例（%）';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.DEPOSIT_RATE_LEVEL  IS '保证金计息方式';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.DEPOSIT_ACCT_NO  IS '扣收保证金账号';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.DEPOSIT_ACCT_NAME  IS '扣收保证金账户名称';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.DEPOSIT_RATE_FLOAT_FLAG  IS '保证金利率浮动标志';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.DEPOSIT_RATE_FLOAT_VALUE  IS '保证金利率浮动值';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.IN_ACCT_BRANCH_NO  IS '入账机构所号';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.IN_ACCT_BRANCH_NAME  IS '入账机构名称';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.OPERATION_TYPE  IS '操作类型';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.OPEN_FLAG  IS '敞口标志';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.ELCTRNC_SIGN  IS '电子签名';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.MANAGEER_NO  IS '客户经理编号';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.MANAGEER_NAME  IS '客户经理名称';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.STATUS  IS '状态';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.DEAL_STATUS  IS '处理状态';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.CREATE_TIME  IS '创建时间';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.UPDATE_TIME  IS '最近修改时间';
	COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH.task_Date  IS '调度任务操作时间';

--在银承明细表
drop table PL_ONLINE_ACPT_DETAIL;
CREATE TABLE PL_ONLINE_ACPT_DETAIL(
	ID VARCHAR2(40) primary key NOT NULL,
	ONLINE_ACPT_NO VARCHAR2(40) ,
	BPS_NO VARCHAR2(40) ,
	BILL_NO VARCHAR2(32) ,
	ACPT_BATCH_ID VARCHAR2(40),
	BILL_AMT NUMBER(20,2) default 0,
	LOAN_NO VARCHAR2(20),
	ISSUER_NAME VARCHAR2(150),
	ISSUER_ACCT VARCHAR2(20),
	ISSUER_BANK_CODE VARCHAR2(12),
	ISSUER_BANK_NAME VARCHAR2(150),
	ISSUER_ORGCODE VARCHAR2(18),
	PAYEE_NAME VARCHAR2(150),
	PAYEE_ACCT VARCHAR2(20),
	PAYEE_BANK_CODE VARCHAR2(12),
	PAYEE_BANK_NAME VARCHAR2(150),
	ISSE_DATE date,
	DUE_DATE date,
	ACPT_BANK_NAME VARCHAR2(150),
	ACPT_BANK_CODE VARCHAR2(12),
	LIMIT_TYPE VARCHAR2(10),
	END_DATE VARCHAR2(10),
	TRANSFER_FLAG VARCHAR2(1),
	IS_AUTO_CALL_PYEE VARCHAR2(1),
	OPERATION_TYPE VARCHAR2(10),
	STATUS VARCHAR2(10),
	DEAL_STATUS VARCHAR2(10),
	BILL_ID VARCHAR2(40),
	BILL_SERIAL_NO VARCHAR2(40),
	TRANS_ACCOUNT  VARCHAR2(20),
	CANCEL_DATE date,
	CREATE_TIME TIMESTAMP,
	UPDATE_TIME TIMESTAMP,
	task_Date TIMESTAMP
);
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.BILL_NO  IS '票号';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.BPS_NO  IS '在线银承协议号';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.ONLINE_ACPT_NO  IS '票据池编号';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.ACPT_BATCH_ID  IS '批次id';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.BILL_AMT  IS '票面金额';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.LOAN_NO  IS '借据编号';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.ISSUER_NAME  IS '出票人名称';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.ISSUER_ACCT  IS '出票人账号';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.ISSUER_BANK_CODE  IS '出票人开户行行号';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.ISSUER_BANK_NAME  IS '出票人开户行名称';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.ISSUER_ORGCODE  IS '出票人组织机构代码';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.PAYEE_NAME  IS '收票人名称';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.PAYEE_ACCT  IS '收票人账号';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.PAYEE_BANK_CODE  IS '收票人开户行行号';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.PAYEE_BANK_NAME  IS '收票人开户行名称';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.ISSE_DATE  IS '出票日';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.DUE_DATE  IS '到期日';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.ACPT_BANK_NAME  IS '承兑行行名';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.ACPT_BANK_CODE  IS '承兑行行号';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.LIMIT_TYPE  IS '期限方式';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.END_DATE  IS '到期日/期限（月）';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.TRANSFER_FLAG  IS '是否可转让';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.IS_AUTO_CALL_PYEE  IS '是否联动收票人自动收票';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.OPERATION_TYPE  IS '操作类型';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.STATUS  IS '状态';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.DEAL_STATUS  IS '处理状态';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.BILL_ID  IS '票据id';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.BILL_SERIAL_NO  IS '序列号';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.ONLINE_ACPT_NO  IS '银承协议编号';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.CANCEL_DATE  IS '未用退回日期';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.CREATE_TIME  IS '创建时间';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.UPDATE_TIME  IS '最近修改时间';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.TRANS_ACCOUNT  IS '业务保证金账号';
COMMENT ON COLUMN PL_ONLINE_ACPT_DETAIL.task_Date  IS '调度任务操作时间';


--在线银承批次表
drop table PL_ONLINE_ACPT_CACHE_BATCH;
CREATE TABLE PL_ONLINE_ACPT_CACHE_BATCH(
	ID VARCHAR2(40) primary key NOT NULL,
	BPS_NO VARCHAR2(40),
	BATCH_NO VARCHAR2(40),
	CONTRACT_NO VARCHAR2(80),
	ONLINE_ACPT_NO VARCHAR2(80),
	BRANCH_NO VARCHAR2(40),
	TOTAL_AMT NUMBER(20,2) default 0,
	APPLY_BANK_NO VARCHAR2(40),
	APPLY_BANK_NAME VARCHAR2(180),
	APPLY_NAME VARCHAR2(180),
	APPLY_ACCT VARCHAR2(40),
	APPLY_ORGCODE VARCHAR2(40),
	CUST_NO VARCHAR2(40),
	APPLY_DATE date,
	FEE_RATE NUMBER(20,2) default 0,
	POOL_CREDIT_RATIO NUMBER(20,2) default 0,
	DEPOSIT_RATIO NUMBER(20,2) default 0,
	DEPOSIT_RATE_LEVEL VARCHAR2(10),
	DEPOSIT_ACCT_NO VARCHAR2(40),
	DEPOSIT_ACCT_NAME VARCHAR2(180),
	DEPOSIT_RATE_FLOAT_FLAG VARCHAR2(10),
	DEPOSIT_RATE_FLOAT_VALUE NUMBER(20,2) default 0,
	IN_ACCT_BRANCH_NO VARCHAR2(40),
	IN_ACCT_BRANCH_NAME VARCHAR2(180),
	OPERATION_TYPE VARCHAR2(40),
	OPEN_FLAG VARCHAR2(10),
	ELCTRNC_SIGN VARCHAR2(3000),
	MANAGEER_NO VARCHAR2(40),
	MANAGEER_NAME VARCHAR2(180),
	STATUS VARCHAR2(10),
	DEAL_STATUS VARCHAR2(10),
	CREATE_TIME TIMESTAMP,
	UPDATE_TIME TIMESTAMP
);
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.BATCH_NO  IS '批次号';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.CONTRACT_NO  IS '在线银承合同号';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.BPS_NO  IS '票据池编号';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.ONLINE_ACPT_NO  IS '在线银承协议编号';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.BRANCH_NO  IS '机构id';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.TOTAL_AMT  IS '票据总面额';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.APPLY_BANK_NO  IS '申请人开户行行号';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.APPLY_BANK_NAME  IS '申请人开户行行名';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.APPLY_NAME  IS '申请人名称';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.APPLY_ACCT  IS '申请人账号';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.APPLY_ORGCODE  IS '申请人组织机构代码';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.CUST_NO  IS '申请人核心客户号';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.APPLY_DATE  IS '承兑申请日期';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.FEE_RATE  IS '手续费率（%）';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.POOL_CREDIT_RATIO  IS '票据池额度占用比例（%）';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.DEPOSIT_RATIO  IS '保证金比例（%）';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.DEPOSIT_RATE_LEVEL  IS '保证金计息方式';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.DEPOSIT_ACCT_NO  IS '扣收保证金账号';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.DEPOSIT_ACCT_NAME  IS '扣收保证金账户名称';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.DEPOSIT_RATE_FLOAT_FLAG  IS '保证金利率浮动标志';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.DEPOSIT_RATE_FLOAT_VALUE  IS '保证金利率浮动值';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.IN_ACCT_BRANCH_NO  IS '入账机构所号';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.IN_ACCT_BRANCH_NAME  IS '入账机构名称';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.OPERATION_TYPE  IS '操作类型';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.OPEN_FLAG  IS '敞口标志';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.ELCTRNC_SIGN  IS '电子签名';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.MANAGEER_NO  IS '客户经理编号';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.MANAGEER_NAME  IS '客户经理名称';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.STATUS  IS '状态';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.DEAL_STATUS  IS '处理状态';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.CREATE_TIME  IS '创建时间';
	COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_BATCH.UPDATE_TIME  IS '最近修改时间';

--在银承明细表
drop table PL_ONLINE_ACPT_CACHE_DETAIL;
CREATE TABLE PL_ONLINE_ACPT_CACHE_DETAIL(
	ID VARCHAR2(40) primary key NOT NULL,
	ONLINE_ACPT_NO VARCHAR2(40) ,
	BPS_NO VARCHAR2(40) ,
	BILL_NO VARCHAR2(32) ,
	ACPT_BATCH_ID VARCHAR2(40),
	BILL_AMT NUMBER(20,2) default 0,
	LOAN_NO VARCHAR2(20),
	ISSUER_NAME VARCHAR2(150),
	ISSUER_ACCT VARCHAR2(20),
	ISSUER_BANK_CODE VARCHAR2(12),
	ISSUER_BANK_NAME VARCHAR2(150),
	ISSUER_ORGCODE VARCHAR2(18),
	PAYEE_NAME VARCHAR2(150),
	PAYEE_ACCT VARCHAR2(20),
	PAYEE_BANK_CODE VARCHAR2(12),
	PAYEE_BANK_NAME VARCHAR2(150),
	ISSE_DATE date,
	DUE_DATE date,
	ACPT_BANK_NAME VARCHAR2(150),
	ACPT_BANK_CODE VARCHAR2(12),
	LIMIT_TYPE VARCHAR2(10),
	END_DATE VARCHAR2(10),
	TRANSFER_FLAG VARCHAR2(1),
	IS_AUTO_CALL_PYEE VARCHAR2(1),
	OPERATION_TYPE VARCHAR2(10),
	STATUS VARCHAR2(10),
	DEAL_STATUS VARCHAR2(10),
	BILL_ID VARCHAR2(40),
	BILL_SERIAL_NO VARCHAR2(40),
	CANCEL_DATE date,
	CREATE_TIME TIMESTAMP,
	UPDATE_TIME TIMESTAMP
);
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.BILL_NO  IS '票号';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.BPS_NO  IS '在线银承协议号';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.ONLINE_ACPT_NO  IS '票据池编号';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.ACPT_BATCH_ID  IS '批次id';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.BILL_AMT  IS '票面金额';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.LOAN_NO  IS '借据编号';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.ISSUER_NAME  IS '出票人名称';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.ISSUER_ACCT  IS '出票人账号';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.ISSUER_BANK_CODE  IS '出票人开户行行号';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.ISSUER_BANK_NAME  IS '出票人开户行名称';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.ISSUER_ORGCODE  IS '出票人组织机构代码';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.PAYEE_NAME  IS '收票人名称';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.PAYEE_ACCT  IS '收票人账号';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.PAYEE_BANK_CODE  IS '收票人开户行行号';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.PAYEE_BANK_NAME  IS '收票人开户行名称';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.ISSE_DATE  IS '出票日';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.DUE_DATE  IS '到期日';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.ACPT_BANK_NAME  IS '承兑行行名';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.ACPT_BANK_CODE  IS '承兑行行号';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.LIMIT_TYPE  IS '期限方式';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.END_DATE  IS '到期日/期限（月）';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.TRANSFER_FLAG  IS '是否可转让';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.IS_AUTO_CALL_PYEE  IS '是否联动收票人自动收票';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.OPERATION_TYPE  IS '操作类型';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.STATUS  IS '状态';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.DEAL_STATUS  IS '处理状态';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.BILL_ID  IS '票据id';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.BILL_SERIAL_NO  IS '序列号';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.ONLINE_ACPT_NO  IS '银承协议编号';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.CANCEL_DATE  IS '未用退回日期';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.CREATE_TIME  IS '创建时间';
COMMENT ON COLUMN PL_ONLINE_ACPT_CACHE_DETAIL.UPDATE_TIME  IS '最近修改时间';



--在线流贷业务表
drop table PL_ONLINE_CRDT;
CREATE TABLE PL_ONLINE_CRDT(
	ID VARCHAR2(40) primary key NOT NULL,
	ONLINE_CRDT_NO VARCHAR2(40),
	BPS_NO VARCHAR2(40),
	LOAN_NO VARCHAR2(40),
	CUST_NO VARCHAR2(40),
	CUST_NAME VARCHAR2(150),
	BRANCH_NO VARCHAR2(40),
	BATCH_NO VARCHAR2(40),
	BASE_RATE_TYPE VARCHAR2(1),
	CURRENCY VARCHAR2(5),
	APPLY_DATE DATE,
	DUE_DATE DATE,
	LOAN_AMT NUMBER(20,2) default 0,
	POOL_CREDIT_RATIO NUMBER(10,2),
	DEDU_ACCT_NO VARCHAR2(20),
	LPR_RATE NUMBER(10,6),
	RATE_FLOAT_TYPE VARCHAR2(1),
	RATE_FLOAT_VALUE NUMBER(10,2),
	INTEREST_RATE NUMBER(10,2) default 0,
	OVER_RATE_FLOAT_TYPE VARCHAR2(2),
	OVER_RATE_FLOAT_VALUE NUMBER(10,2),
	OVER_INTEREST_RATE NUMBER(10,2) default 0,
	CONTRACT_NO VARCHAR2(40),
	CREDIT_ACCT VARCHAR2(20),
	DEPOSIT_ACCT_NO VARCHAR2(20),
	ACCT_DATE DATE,
	ACCT_FLOW VARCHAR2(20),
	PAY_TYPE VARCHAR2(4),
	FUND_NO VARCHAR2(20),
	STATUS VARCHAR2(6),
	DEAL_STATUS VARCHAR2(6),
	DEV_SEQ_NO VARCHAR2(40),
	TRANS_ACCOUNT  VARCHAR2(20),
	CREATE_TIME TIMESTAMP,
	UPDATE_TIME TIMESTAMP,
	task_Date TIMESTAMP
);

COMMENT ON COLUMN PL_ONLINE_CRDT.ONLINE_CRDT_NO             IS '在线协议编号';
COMMENT ON COLUMN PL_ONLINE_CRDT.BPS_NO                     IS '票据池编号';
COMMENT ON COLUMN PL_ONLINE_CRDT.LOAN_NO                    IS '借据号';
COMMENT ON COLUMN PL_ONLINE_CRDT.CUST_NO                    IS '客户号';
COMMENT ON COLUMN PL_ONLINE_CRDT.CUST_NAME                  IS '客户名称';
COMMENT ON COLUMN PL_ONLINE_CRDT.BRANCH_NO                  IS '管理机构';
COMMENT ON COLUMN PL_ONLINE_CRDT.BATCH_NO                   IS '批次号';
COMMENT ON COLUMN PL_ONLINE_CRDT.BASE_RATE_TYPE             IS '基准利率类型';
COMMENT ON COLUMN PL_ONLINE_CRDT.CURRENCY                   IS '币种';
COMMENT ON COLUMN PL_ONLINE_CRDT.APPLY_DATE                 IS '开户日期';
COMMENT ON COLUMN PL_ONLINE_CRDT.DUE_DATE                   IS '到期日期';
COMMENT ON COLUMN PL_ONLINE_CRDT.LOAN_AMT                   IS '借据金额';
COMMENT ON COLUMN PL_ONLINE_CRDT.POOL_CREDIT_RATIO          IS '票据池额度占用比例（%）';
COMMENT ON COLUMN PL_ONLINE_CRDT.DEDU_ACCT_NO               IS '扣款账号';
COMMENT ON COLUMN PL_ONLINE_CRDT.LPR_RATE                   IS '基准利率'; 
COMMENT ON COLUMN PL_ONLINE_CRDT.RATE_FLOAT_TYPE            IS '正常利率浮动方式';
COMMENT ON COLUMN PL_ONLINE_CRDT.RATE_FLOAT_VALUE           IS '正常利率浮动值';
COMMENT ON COLUMN PL_ONLINE_CRDT.INTEREST_RATE              IS '执行利率';
COMMENT ON COLUMN PL_ONLINE_CRDT.OVER_RATE_FLOAT_TYPE       IS '逾期利率浮动方式';
COMMENT ON COLUMN PL_ONLINE_CRDT.OVER_RATE_FLOAT_VALUE      IS '逾期利率浮动值';
COMMENT ON COLUMN PL_ONLINE_CRDT.OVER_INTEREST_RATE         IS '逾期执行利率';
COMMENT ON COLUMN PL_ONLINE_CRDT.CONTRACT_NO                IS '合同编号';
COMMENT ON COLUMN PL_ONLINE_CRDT.CREDIT_ACCT                IS '放款账号';
COMMENT ON COLUMN PL_ONLINE_CRDT.DEPOSIT_ACCT_NO            IS '票据池保证金账号';
COMMENT ON COLUMN PL_ONLINE_CRDT.ACCT_DATE                  IS '核心记账日期';
COMMENT ON COLUMN PL_ONLINE_CRDT.ACCT_FLOW                  IS '核心记账流水';
COMMENT ON COLUMN PL_ONLINE_CRDT.STATUS                     IS '状态';
COMMENT ON COLUMN PL_ONLINE_CRDT.PAY_TYPE                   IS '支付类型 1自主支付 2 受托支付';
COMMENT ON COLUMN PL_ONLINE_CRDT.FUND_NO                    IS '圈存编号';
COMMENT ON COLUMN PL_ONLINE_CRDT.DEAL_STATUS                IS '处理状态';
COMMENT ON COLUMN PL_ONLINE_CRDT.TRANS_ACCOUNT             IS '贷款账号';
COMMENT ON COLUMN PL_ONLINE_CRDT.DEV_SEQ_NO                 IS '核心记账第三方流水号';
COMMENT ON COLUMN PL_ONLINE_CRDT.CREATE_TIME                IS '创建时间';
COMMENT ON COLUMN PL_ONLINE_CRDT.UPDATE_TIME                IS '最近修改时间';
COMMENT ON COLUMN PL_ONLINE_CRDT.task_Date                IS '调度任务操作时间';


--在线流贷业务缓存表
drop table PL_ONLINE_CACHE_CRDT;
CREATE TABLE PL_ONLINE_CACHE_CRDT(
	ID VARCHAR2(40) primary key NOT NULL,
	ONLINE_CRDT_NO VARCHAR2(40),
	BPS_NO VARCHAR2(40),
	LOAN_NO VARCHAR2(40),
	CUST_NO VARCHAR2(40),
	CUST_NAME VARCHAR2(150),
	BRANCH_NO VARCHAR2(40),
	BATCH_NO VARCHAR2(40),
	BASE_RATE_TYPE VARCHAR2(1),
	CURRENCY VARCHAR2(5),
	APPLY_DATE DATE,
	DUE_DATE DATE,
	LOAN_AMT NUMBER(20,2) default 0,
	POOL_CREDIT_RATIO NUMBER(10,2),
	DEDU_ACCT_NO VARCHAR2(20),
	RATE_FLOAT_TYPE VARCHAR2(1),
	RATE_FLOAT_VALUE NUMBER(10,2),
	INTEREST_RATE NUMBER(10,2) default 0,
	OVER_RATE_FLOAT_TYPE VARCHAR2(2),
	OVER_RATE_FLOAT_VALUE NUMBER(10,2),
	OVER_INTEREST_RATE NUMBER(10,2) default 0,
	CONTRACT_NO VARCHAR2(40),
	CREDIT_ACCT VARCHAR2(20),
	DEPOSIT_ACCT_NO VARCHAR2(20),
	ACCT_DATE DATE,
	ACCT_FLOW VARCHAR2(20),
	PAY_TYPE VARCHAR2(4),
	FUND_NO VARCHAR2(20),
	STATUS VARCHAR2(6),
	DEAL_STATUS VARCHAR2(6),
	DEV_SEQ_NO VARCHAR2(40),
	TRANS_ACCOUNT  VARCHAR2(20),
	CREATE_TIME TIMESTAMP,
	UPDATE_TIME TIMESTAMP
);

COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.ONLINE_CRDT_NO             IS '在线协议编号';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.BPS_NO                     IS '票据池编号';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.LOAN_NO                    IS '借据号';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.CUST_NO                    IS '客户号';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.CUST_NAME                  IS '客户名称';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.BRANCH_NO                  IS '管理机构';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.BATCH_NO                   IS '批次号';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.BASE_RATE_TYPE             IS '基准利率类型';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.CURRENCY                   IS '币种';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.APPLY_DATE                 IS '开户日期';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.DUE_DATE                   IS '到期日期';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.LOAN_AMT                   IS '借据金额';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.POOL_CREDIT_RATIO          IS '票据池额度占用比例（%）';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.DEDU_ACCT_NO               IS '扣款账号';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.RATE_FLOAT_TYPE            IS '正常利率浮动方式';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.RATE_FLOAT_VALUE           IS '正常利率浮动值';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.INTEREST_RATE              IS '执行利率';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.OVER_RATE_FLOAT_TYPE       IS '逾期利率浮动方式';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.OVER_RATE_FLOAT_VALUE      IS '逾期利率浮动值';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.OVER_INTEREST_RATE         IS '逾期执行利率';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.CONTRACT_NO                IS '合同编号';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.CREDIT_ACCT                IS '放款账号';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.DEPOSIT_ACCT_NO            IS '票据池保证金账号';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.ACCT_DATE                  IS '核心记账日期';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.ACCT_FLOW                  IS '核心记账流水';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.STATUS                     IS '状态';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.PAY_TYPE                   IS '支付类型 1自主支付 2 受托支付';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.FUND_NO                    IS '圈存编号';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.DEAL_STATUS                IS '处理状态';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.TRANS_ACCOUNT             IS '贷款账号';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.DEV_SEQ_NO                 IS '核心记账第三方流水号';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.CREATE_TIME                IS '创建时间';
COMMENT ON COLUMN PL_ONLINE_CACHE_CRDT.UPDATE_TIME                IS '最近修改时间';


--在线业务黑名单表
drop table PED_ONLINE_BLACK_INFO;
CREATE TABLE PED_ONLINE_BLACK_INFO(
	ID VARCHAR2(40) primary key NOT NULL,
	 CUST_NO VARCHAR2(40),
	 CUST_NAME VARCHAR2(150),
	 CUST_ORGCODE VARCHAR2(18),
	 OPEN_FLAG VARCHAR2(1),
	 APP_NO VARCHAR2(40),
	 STATUS VARCHAR2(1),
	 START_DATE DATE,
	 END_DATE DATE,
	 VALID_DATE VARCHAR2(10),
	 DATE_TYPE VARCHAR2(10),
	 DEPART_ID VARCHAR2(32),
	 DEPART_NAME VARCHAR2(150),
	 CREATE_TIME TIMESTAMP,
	 UPDATE_TIME TIMESTAMP
);
COMMENT ON COLUMN PED_ONLINE_BLACK_INFO.CUST_NO  IS '客户号';
COMMENT ON COLUMN PED_ONLINE_BLACK_INFO.CUST_NAME  IS '客户名称';
COMMENT ON COLUMN PED_ONLINE_BLACK_INFO.CUST_ORGCODE  IS '组织结构代码';
COMMENT ON COLUMN PED_ONLINE_BLACK_INFO.OPEN_FLAG  IS '是否禁入';
COMMENT ON COLUMN PED_ONLINE_BLACK_INFO.APP_NO  IS '经办人';
COMMENT ON COLUMN PED_ONLINE_BLACK_INFO.STATUS  IS '状态  0：失效 1：生效';
COMMENT ON COLUMN PED_ONLINE_BLACK_INFO.START_DATE  IS '开始日期';
COMMENT ON COLUMN PED_ONLINE_BLACK_INFO.END_DATE  IS '结束日期';
COMMENT ON COLUMN PED_ONLINE_BLACK_INFO.VALID_DATE  IS '有效期';
COMMENT ON COLUMN PED_ONLINE_BLACK_INFO.DATE_TYPE  IS '有效期类型';
COMMENT ON COLUMN PED_ONLINE_BLACK_INFO.DEPART_ID  IS '报送机构';
COMMENT ON COLUMN PED_ONLINE_BLACK_INFO.DEPART_NAME  IS '报送机构名称';
COMMENT ON COLUMN PED_ONLINE_BLACK_INFO.CREATE_TIME  IS '创建时间';
COMMENT ON COLUMN PED_ONLINE_BLACK_INFO.UPDATE_TIME  IS '最近修改时间';

--交易日志表
drop table PED_ONLINE_HANDLE_LOG;
CREATE TABLE PED_ONLINE_HANDLE_LOG (
	ID VARCHAR2(40) primary key NOT NULL,
	TRADE_NAME    VARCHAR2(20),
	BUSI_NAME     VARCHAR2(150),
	SEND_TYPE     VARCHAR2(10),
	TRADE_CODE    VARCHAR2(10),
	TRADE_RESULT  VARCHAR2(3000),
	ERROR_TYPE    VARCHAR2(10),
	OPERATION_TYPE VARCHAR2(10),
	BILL_NO       VARCHAR2(32),
	ONLINE_NO     VARCHAR2(20),
	BUSI_ID       VARCHAR2(40),
	CUST_NUMBER   VARCHAR2(20),
	BPS_NO        VARCHAR2(20),
	CREATE_TIME   timestamp
);

COMMENT ON COLUMN PED_ONLINE_HANDLE_LOG.TRADE_NAME           IS '渠道';
COMMENT ON COLUMN PED_ONLINE_HANDLE_LOG.BUSI_NAME            IS '业务名称';
COMMENT ON COLUMN PED_ONLINE_HANDLE_LOG.SEND_TYPE            IS '收发类型';
COMMENT ON COLUMN PED_ONLINE_HANDLE_LOG.TRADE_CODE           IS '报文码';
COMMENT ON COLUMN PED_ONLINE_HANDLE_LOG.TRADE_RESULT         IS '处理结果';
COMMENT ON COLUMN PED_ONLINE_HANDLE_LOG.ERROR_TYPE           IS '错误类型';
COMMENT ON COLUMN PED_ONLINE_HANDLE_LOG.OPERATION_TYPE       IS '岗位';
COMMENT ON COLUMN PED_ONLINE_HANDLE_LOG.BILL_NO              IS '票号';
COMMENT ON COLUMN PED_ONLINE_HANDLE_LOG.BUSI_ID              IS '业务id';
COMMENT ON COLUMN PED_ONLINE_HANDLE_LOG.ONLINE_NO            IS '在线协议编号';
COMMENT ON COLUMN PED_ONLINE_HANDLE_LOG.BPS_NO               IS '票据池协议号';
COMMENT ON COLUMN PED_ONLINE_HANDLE_LOG.CUST_NUMBER          IS '客户号';
COMMENT ON COLUMN PED_ONLINE_HANDLE_LOG.CREATE_TIME          IS '创建时间';

--在线银承收票人历史	
	 drop table PED_ONLINE_ACPT_INFO_HIST;
	 CREATE TABLE PED_ONLINE_ACPT_INFO_HIST (
	 	ID VARCHAR2(40) primary key NOT NULL,
	 	PAYEE_ID VARCHAR2(40) ,
	 	PAYEE_ACCT_NAME VARCHAR2(240),
	 	PAYEE_ACCT_NO VARCHAR2(30) ,
	 	PAYEE_OPEN_BANK_NO VARCHAR2(12) ,
	 	PAYEE_OPEN_BANK_NAME VARCHAR2(240) ,
	 	PAYEE_TOTAL_AMT NUMBER(20,2) default 0,
	 	PAYEE_USED_AMT NUMBER(20,2) default 0,
	 	PAYEE_STATUS VARCHAR2(1),
	 	ONLINE_ACPT_NO VARCHAR2(20) ,
	 	ACPT_ID VARCHAR2(40),
	 	MODE_TYPE VARCHAR2(10),
	 	MODE_MARK VARCHAR2(60),
	 	LAST_SOURCE_ID VARCHAR2(40),
	 	CREATE_TIME TIMESTAMP,
	 	UPDATE_TIME TIMESTAMP
	 	);
	 	COMMENT ON COLUMN PED_ONLINE_ACPT_INFO_HIST.PAYEE_ID             IS '收票人编号';
	 	COMMENT ON COLUMN PED_ONLINE_ACPT_INFO_HIST.PAYEE_ACCT_NAME      IS '收票人名称';
	 	COMMENT ON COLUMN PED_ONLINE_ACPT_INFO_HIST.PAYEE_ACCT_NO        IS '收票人账号';
	 	COMMENT ON COLUMN PED_ONLINE_ACPT_INFO_HIST.PAYEE_OPEN_BANK_NO   IS '收票人开户行行号';
	 	COMMENT ON COLUMN PED_ONLINE_ACPT_INFO_HIST.PAYEE_OPEN_BANK_NAME IS '收票人开户行名称';
	 	COMMENT ON COLUMN PED_ONLINE_ACPT_INFO_HIST.PAYEE_TOTAL_AMT      IS '收票人收票总额';
	 	COMMENT ON COLUMN PED_ONLINE_ACPT_INFO_HIST.PAYEE_USED_AMT       IS '收票人已收票总额';
	 	COMMENT ON COLUMN PED_ONLINE_ACPT_INFO_HIST.PAYEE_STATUS         IS '收票人状态';
	 	COMMENT ON COLUMN PED_ONLINE_ACPT_INFO_HIST.ONLINE_ACPT_NO       IS '在线银承协议编号';
	 	COMMENT ON COLUMN PED_ONLINE_ACPT_INFO_HIST.ACPT_ID              IS '在线银承协议ID';
	 	COMMENT ON COLUMN PED_ONLINE_ACPT_INFO_HIST.MODE_TYPE            IS '修改模式';
	 	COMMENT ON COLUMN PED_ONLINE_ACPT_INFO_HIST.MODE_MARK            IS '修改标记';
	 	COMMENT ON COLUMN PED_ONLINE_ACPT_INFO_HIST.CREATE_TIME          IS '创建时间';
	 	COMMENT ON COLUMN PED_ONLINE_ACPT_INFO_HIST.UPDATE_TIME          IS '最近修改时间';

	 --在线流贷收款人历史
	 drop table PED_ONLINE_CRDT_INFO_HIST;
	 CREATE TABLE PED_ONLINE_CRDT_INFO_HIST (
	 	ID VARCHAR2(40) primary key NOT NULL,
	 	PAYEE_ID VARCHAR2(40) ,
	 	PAYEE_ACCT_NAME VARCHAR2(240),
	 	PAYEE_ACCT_NO VARCHAR2(30) ,
	 	PAYEE_OPEN_BANK_NO VARCHAR2(12),
	 	PAYEE_OPEN_BANK_NAME VARCHAR2(240),
	 	IS_LOCAL VARCHAR2(1),
	 	PAYEE_TOTAL_AMT NUMBER(20,2) default 0 ,
	 	PAYEE_USED_AMT NUMBER(20,2) default 0 ,
	 	PAY_TYPE VARCHAR2(4),
	 	PAYEE_STATUS VARCHAR2(1),
	 	ONLINE_CRDT_NO VARCHAR2(20) ,
	 	CRDT_ID VARCHAR2(40),
	 	MODE_TYPE VARCHAR2(10),
	 	MODE_MARK VARCHAR2(60),
	 	LAST_SOURCE_ID VARCHAR2(40),
	 	CREATE_TIME TIMESTAMP,
	 	UPDATE_TIME TIMESTAMP
	 	);
	 	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO_HIST.PAYEE_ID             IS '收款人编号';
	 	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO_HIST.PAYEE_ACCT_NAME      IS '收款人名称';
	 	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO_HIST.PAYEE_ACCT_NO        IS '收款人账号';
	 	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO_HIST.PAYEE_OPEN_BANK_NO   IS '收款人开户行行号';
	 	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO_HIST.PAYEE_OPEN_BANK_NAME IS '收款人开户行名称';
	 	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO_HIST.PAYEE_TOTAL_AMT      IS '收款人收票总额';
	 	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO_HIST.PAYEE_USED_AMT       IS '收款人已收票总额';
	 	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO_HIST.PAY_TYPE             IS '支付类型 1自主支付 2 受托支付';
	 	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO_HIST.IS_LOCAL         IS '是否跨行';
	 	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO_HIST.PAYEE_STATUS         IS '收款人状态';
	 	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO_HIST.ONLINE_CRDT_NO       IS '在线银承协议编号';
	 	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO_HIST.CRDT_ID              IS '在线银承协议主键';
	 	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO_HIST.MODE_TYPE              IS '修改模式';
	 	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO_HIST.MODE_MARK              IS '修改标记';
	 	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO_HIST.CREATE_TIME          IS '创建时间';
	 	COMMENT ON COLUMN PED_ONLINE_CRDT_INFO_HIST.UPDATE_TIME          IS '最近修改时间';
	 	
	 --短信通知人历史
	 drop table PED_ONLINE_MSG_INFO_HIST;
	 CREATE TABLE PED_ONLINE_MSG_INFO_HIST (
	 	ID VARCHAR2(40) primary key NOT NULL,
	 	ADDRESSEE_NO VARCHAR2(40),
	 	ADDRESSEE_NAME VARCHAR2(240),
	 	ADDRESSEE_ROLE VARCHAR2(1),
	 	ADDRESSEE_PHONE_NO VARCHAR2(11),
	 	ONLINE_PROTOCOL_TYPE VARCHAR2(3),
	 	ONLINE_NO VARCHAR2(40),
	 	ONLINE_PROTOCOL_ID VARCHAR2(40),
	 	MODE_TYPE VARCHAR2(10),
	 	MODE_MARK VARCHAR2(60),
	 	LAST_SOURCE_ID VARCHAR2(40),
	 	CREATE_TIME TIMESTAMP,
	 	UPDATE_TIME TIMESTAMP);
	 	
	 	COMMENT ON COLUMN PED_ONLINE_MSG_INFO_HIST.ADDRESSEE_NO         IS '联系人编号';
	 	COMMENT ON COLUMN PED_ONLINE_MSG_INFO_HIST.ADDRESSEE_NAME       IS '联系人名称';
	 	COMMENT ON COLUMN PED_ONLINE_MSG_INFO_HIST.ADDRESSEE_ROLE       IS '联系人身份';
	 	COMMENT ON COLUMN PED_ONLINE_MSG_INFO_HIST.ADDRESSEE_PHONE_NO   IS '联系人电话';
	 	COMMENT ON COLUMN PED_ONLINE_MSG_INFO_HIST.ONLINE_PROTOCOL_TYPE IS '在线协议类型';
	 	COMMENT ON COLUMN PED_ONLINE_MSG_INFO_HIST.ONLINE_NO            IS '在线协议编号';
	 	COMMENT ON COLUMN PED_ONLINE_MSG_INFO_HIST.ONLINE_PROTOCOL_ID   IS '在线协议主键';
	 	COMMENT ON COLUMN PED_ONLINE_MSG_INFO_HIST.MODE_TYPE            IS '修改模式';
	 	COMMENT ON COLUMN PED_ONLINE_MSG_INFO_HIST.MODE_MARK            IS '修改标记';
	 	COMMENT ON COLUMN PED_ONLINE_MSG_INFO_HIST.CREATE_TIME          IS '创建时间';
	 	COMMENT ON COLUMN PED_ONLINE_MSG_INFO_HIST.UPDATE_TIME          IS '最近修改时间';


drop table BO_ASSET_TYPE_MANAGE cascade constraints;
create table BO_ASSET_TYPE_MANAGE  (
   ID                   VARCHAR2(36)                    not null,
   ASSET_TYPE           VARCHAR2(5)                     not null,
   AMOUNT_TYPE          VARCHAR2(5)                    default 'AMT01' not null,
   DUEDATE_TYPE         VARCHAR2(1)                    default '1' not null,
   RISK_TYPE            VARCHAR2(5)                    default 'FX_03' not null,
   HOLIDAY_DELAY_TYPE   VARCHAR2(1)                     not null,
   ASSIGN_DELAY_DAY     INT                            default 0,
   UPDATE_USER_ID       VARCHAR2(36),
   UPDATE_USER_NAME     VARCHAR2(40),
   UPDATE_DATE          DATE                           default sysdate not null,
   DEL_FLAG             VARCHAR2(1)                    default 'N' not null,
   constraint PK_BO_ASSET_TYPE_MANAGE primary key (ID)
);

comment on table BO_ASSET_TYPE_MANAGE is '资产分类管理';
comment on column BO_ASSET_TYPE_MANAGE.ID is '主键';
comment on column BO_ASSET_TYPE_MANAGE.ASSET_TYPE is '资产类型：ED_10低风险票据、ED_20高风险票据、ED_21活期保证金、ED_22定期保证金';
comment on column BO_ASSET_TYPE_MANAGE.AMOUNT_TYPE is '金额类型：AMT01账户余额、AMT02票面金额';
comment on column BO_ASSET_TYPE_MANAGE.DUEDATE_TYPE is '到日期类型:1当天、2票据到期日';
comment on column BO_ASSET_TYPE_MANAGE.RISK_TYPE is '风险类型-低风险FX_01、高风险FX_02、不在风险名单FX_03';
comment on column BO_ASSET_TYPE_MANAGE.HOLIDAY_DELAY_TYPE is '节假日顺延类型:0不顺延、1节假日';
comment on column BO_ASSET_TYPE_MANAGE.ASSIGN_DELAY_DAY is '设定顺延天数';
comment on column BO_ASSET_TYPE_MANAGE.UPDATE_USER_ID is '更新用户ID';
comment on column BO_ASSET_TYPE_MANAGE.UPDATE_USER_NAME is '更新用户名称';
comment on column BO_ASSET_TYPE_MANAGE.UPDATE_DATE is '更新日期';
comment on column BO_ASSET_TYPE_MANAGE.DEL_FLAG is '逻辑删除标记-N未删除、D已删除';


drop table BO_ASSET_TYPE_MANAGE_HIS cascade constraints;
create table BO_ASSET_TYPE_MANAGE_HIS  (
   ID                   VARCHAR2(36)                    not null,
   AT_MANAGE_ID         VARCHAR2(36)                    not null,
   HOLIDAY_DELAY_TYPE   VARCHAR2(1)                     not null,
   ASSIGN_DELAY_DAY     INT                            default 0,
   UPDATE_USER_ID       VARCHAR2(36),
   UPDATE_USER_NAME     VARCHAR2(40),
   UPDATE_DATE          DATE                           default sysdate not null,
   DEL_FLAG             VARCHAR2(1)                    default 'N' not null,
   constraint PK_BO_ASSET_TYPE_MANAGE_HIS primary key (ID)
);

comment on table BO_ASSET_TYPE_MANAGE_HIS is '资产分类管理历史信息';
comment on column BO_ASSET_TYPE_MANAGE_HIS.ID is '主键';
comment on column BO_ASSET_TYPE_MANAGE_HIS.AT_MANAGE_ID is '资产类型管理表ID';
comment on column BO_ASSET_TYPE_MANAGE_HIS.HOLIDAY_DELAY_TYPE is '节假日顺延类型:0不顺延、1节假日';
comment on column BO_ASSET_TYPE_MANAGE_HIS.ASSIGN_DELAY_DAY is '设定顺延天数';
comment on column BO_ASSET_TYPE_MANAGE_HIS.UPDATE_USER_ID is '更新用户ID';
comment on column BO_ASSET_TYPE_MANAGE_HIS.UPDATE_USER_NAME is '更新用户名称';
comment on column BO_ASSET_TYPE_MANAGE_HIS.UPDATE_DATE is '更新日期';
comment on column BO_ASSET_TYPE_MANAGE_HIS.DEL_FLAG is '逻辑删除标记-N未删除、D已删除';


drop table PED_ASSET_REGISTER cascade constraints;
create table PED_ASSET_REGISTER  (
   ID                   VARCHAR2(36)                    not null,
   AP_ID                VARCHAR2(36)                    not null,
   AT_ID                VARCHAR2(36)                    not null,
   CUST_POOL_NAME       VARCHAR2(180)                   not null,
   CERT_TYPE            VARCHAR2(2)                    default '03' not null,
   CERT_CODE            VARCHAR2(18)                    not null,
   BPS_NO               VARCHAR2(20),
   ASSET_NO             VARCHAR2(32)                    not null,
   ASSET_TYPE           VARCHAR2(5),
   RISK_TYPE            VARCHAR2(5)                    default 'FX_03',
   ASSET_AMOUNT         NUMBER(16,2)                   default 0,
   ASSET_DUEDT          DATE,
   ASSET_DELAY_DUEDT    DATE,
   TRANS_DATE           DATE,
   CREATE_DATE          DATE                           default sysdate,
   UPDATE_DATE          DATE                           default sysdate not null,
   DEL_FLAG             VARCHAR2(1)                    default 'N' not null,
   constraint PK_PED_ASSET_REGISTER primary key (ID)
);

comment on table PED_ASSET_REGISTER is '资产登记簿';
comment on column PED_ASSET_REGISTER.ID is '主键';
comment on column PED_ASSET_REGISTER.AP_ID is '资产池PED_ASSET_POOL表ID';
comment on column PED_ASSET_REGISTER.AT_ID is '资产类PED_ASSET_TYPE表ID';
comment on column PED_ASSET_REGISTER.CUST_POOL_NAME is '客户资产池名称';
comment on column PED_ASSET_REGISTER.CERT_TYPE is '证件类型:01组织机构代码、02统一授信编码、03客户号';
comment on column PED_ASSET_REGISTER.CERT_CODE is '证件号';
comment on column PED_ASSET_REGISTER.BPS_NO is '客户票据池编号';
comment on column PED_ASSET_REGISTER.ASSET_NO is '资产编号-存账号或票据号';
comment on column PED_ASSET_REGISTER.ASSET_TYPE is '资产类-ED_10低风险票据、ED_20高风险票据、ED_21活期保证金、ED_22定期保证金';
comment on column PED_ASSET_REGISTER.RISK_TYPE is '风险类型-低风险FX_01、高风险FX_02、不在风险名单FX_03';
comment on column PED_ASSET_REGISTER.ASSET_AMOUNT is '资产金额';
comment on column PED_ASSET_REGISTER.ASSET_DUEDT is '资产到期日';
comment on column PED_ASSET_REGISTER.ASSET_DELAY_DUEDT is '资产顺延到日期';
comment on column PED_ASSET_REGISTER.TRANS_DATE is '交易日期(不含时分秒)';
comment on column PED_ASSET_REGISTER.CREATE_DATE is '创建日期(含时分秒)';
comment on column PED_ASSET_REGISTER.BPS_NO is '客户签约编号';
comment on column PED_ASSET_REGISTER.UPDATE_DATE is'更新日期(含时分秒)';
comment on column PED_ASSET_REGISTER.DEL_FLAG is'逻辑删除标记（这里用于是否计算标记）';

create index IDX_ASSETREG_CMP on PED_ASSET_REGISTER (
   BPS_NO ASC,
   ASSET_NO ASC
);
create index IDX_ASSETREG_APID on PED_ASSET_REGISTER (
   AP_ID ASC
);


drop table PED_ASSET_REGISTER_HIS cascade constraints;
create table PED_ASSET_REGISTER_HIS  (
   ID                   VARCHAR2(36)                    not null,
   AP_ID                VARCHAR2(36)                    not null,
   AT_ID                VARCHAR2(36)                    not null,
   CUST_POOL_NAME       VARCHAR2(180)                   not null,
   CERT_TYPE            VARCHAR2(2)                    default '03' not null,
   CERT_CODE            VARCHAR2(18)                    not null,
   BPS_NO               VARCHAR2(20),
   ASSET_NO             VARCHAR2(32)                    not null,
   ASSET_TYPE           VARCHAR2(5),
   RISK_TYPE            VARCHAR2(5)                    default 'FX_03',
   ASSET_AMOUNT         NUMBER(16,2)                   default 0,
   ASSET_DUEDT          DATE,
   ASSET_DELAY_DUEDT    DATE,
   STOCK_OUT_TYPE       VARCHAR2(2),
   TRANS_DATE           DATE,
   CREATE_DATE          DATE                           default sysdate,
   UPDATE_DATE          DATE                           default sysdate not null,
   DEL_FLAG             VARCHAR2(1)                    default 'N' not null,
   constraint PK_PED_ASSET_REGISTER_HIS primary key (ID)
);

comment on table PED_ASSET_REGISTER_HIS is '资产登记簿历史变更信息';
comment on column PED_ASSET_REGISTER_HIS.ID is '主键';
comment on column PED_ASSET_REGISTER_HIS.AP_ID is '资产池PED_ASSET_POOL表ID';
comment on column PED_ASSET_REGISTER_HIS.AT_ID is '资产类PED_ASSET_TYPE表ID';
comment on column PED_ASSET_REGISTER_HIS.CUST_POOL_NAME is '客户资产池名称';
comment on column PED_ASSET_REGISTER_HIS.CERT_TYPE is '证件类型:01组织机构代码、02统一授信编码、03客户号';
comment on column PED_ASSET_REGISTER_HIS.CERT_CODE is '证件号';
comment on column PED_ASSET_REGISTER_HIS.BPS_NO is '客户签约编号';
comment on column PED_ASSET_REGISTER_HIS.ASSET_NO is '资产编号-存账号或票据号';
comment on column PED_ASSET_REGISTER_HIS.ASSET_TYPE is '资产类-ED_10低风险票据、ED_20高风险票据、ED_21活期保证金、ED_22定期保证金';
comment on column PED_ASSET_REGISTER_HIS.RISK_TYPE is '风险类型-低风险FX_01、高风险FX_02、不在风险名单FX_03';
comment on column PED_ASSET_REGISTER_HIS.ASSET_AMOUNT is '资产金额';
comment on column PED_ASSET_REGISTER_HIS.ASSET_DUEDT is '资产到期日';
comment on column PED_ASSET_REGISTER_HIS.ASSET_DELAY_DUEDT is '资产顺延到日期';
comment on column PED_ASSET_REGISTER_HIS.STOCK_OUT_TYPE is '出库类型-01支取、02到期、03存入、04出库';
comment on column PED_ASSET_REGISTER_HIS.TRANS_DATE is '交易日期(不含时分秒)';
comment on column PED_ASSET_REGISTER_HIS.CREATE_DATE is '创建日期(含时分秒)';
comment on column PED_ASSET_REGISTER_HIS.UPDATE_DATE is '更新日期(含时分秒)';
comment on column PED_ASSET_REGISTER_HIS.DEL_FLAG is '逻辑删除标记-N未删除、D已删除';


DROP TABLE PED_ASSET_CRDT_DAILY;
CREATE TABLE PED_ASSET_CRDT_DAILY(
	ID VARCHAR2(40) PRIMARY KEY NOT NULL,
	BPS_NO        VARCHAR2(40) NOT NULL,
	BPS_NAME      VARCHAR2(240),
	CREATE_DATE   DATE NOT NULL,
	BUSI_TYPE     VARCHAR2(2) NOT NULL,
	TOTAL_AMT     NUMBER(20,2) NOT NULL,
	CREATE_TIME   TIMESTAMP
	);
COMMENT ON COLUMN PED_ASSET_CRDT_DAILY.ID  IS '主键ID';
COMMENT ON COLUMN PED_ASSET_CRDT_DAILY.BPS_NO  IS '票据池编号';
COMMENT ON COLUMN PED_ASSET_CRDT_DAILY.BPS_NAME  IS '票据池名称';
COMMENT ON COLUMN PED_ASSET_CRDT_DAILY.CREATE_DATE  IS '创建日期';
COMMENT ON COLUMN PED_ASSET_CRDT_DAILY.BUSI_TYPE  IS '业务类型 01：资产-现金 02：资产-票据 03：融资业务-银承 04：融资业务-流贷 05：融资业务-保函 06：融资业务-国内信用证';
COMMENT ON COLUMN PED_ASSET_CRDT_DAILY.TOTAL_AMT  IS '总金额';
COMMENT ON COLUMN PED_ASSET_CRDT_DAILY.CREATE_TIME  IS '创建时间';


DROP TABLE PED_ASSET_DAILY;
CREATE TABLE PED_ASSET_DAILY(
	ID               VARCHAR2(40) PRIMARY KEY NOT NULL,
	BATCH_ID         VARCHAR2(40),
	BPS_NO           VARCHAR2(40) NOT NULL,
	BPS_NAME         VARCHAR2(240) NOT NULL,
	CUST_NO          VARCHAR2(10) ,
	CUST_NAME        VARCHAR2(240) ,
	CREATE_DATE      DATE NOT NULL,
	ASSET_TYPE       VARCHAR2(5) NOT NULL,
	AMT              NUMBER(20,2) NOT NULL,
	BILL_NO          VARCHAR2(30) ,
	BILL_MEDIA       VARCHAR2(1) ,
	BILL_TYPE        VARCHAR2(5) ,
	ISSUE_DT         DATE ,
	DUE_DT           DATE ,
	BAN_ENDRSMT_FLAG VARCHAR2(1) ,
	DRWR_NAME        VARCHAR2(240) ,
	DRWR_BANK_NO     VARCHAR2(12) ,
	ACPT_NAME        VARCHAR2(240) ,
	ACPT_BANK_NAME   VARCHAR2(240) ,
	ACPT_BANK_NO     VARCHAR2(12) ,
	PYEE_NAME        VARCHAR2(240) ,
	PYEE_BANK_NAME   VARCHAR2(240) ,
	PYEE_BANK_NO     VARCHAR2(12) ,
	ed_pyeeAcctId    VARCHAR2(40) ,
	ed_drwrAcctId    VARCHAR2(40) ,
	CREATE_TIME      TIMESTAMP

	);
COMMENT ON COLUMN PED_ASSET_DAILY.ID  IS '主键ID';
COMMENT ON COLUMN PED_ASSET_DAILY.BATCH_ID          IS '批次ID     ';
COMMENT ON COLUMN PED_ASSET_DAILY.BPS_NO            IS '票据池编号    ';
COMMENT ON COLUMN PED_ASSET_DAILY.BPS_NAME          IS '票据池名称    ';
COMMENT ON COLUMN PED_ASSET_DAILY.CUST_NO           IS '客户号      ';
COMMENT ON COLUMN PED_ASSET_DAILY.CUST_NAME         IS '客户名称     ';
COMMENT ON COLUMN PED_ASSET_DAILY.CREATE_DATE       IS '创建日期     ';
COMMENT ON COLUMN PED_ASSET_DAILY.ASSET_TYPE        IS '资产类型     ';
COMMENT ON COLUMN PED_ASSET_DAILY.AMT               IS '金额       ';
COMMENT ON COLUMN PED_ASSET_DAILY.BILL_NO           IS '票号       ';
COMMENT ON COLUMN PED_ASSET_DAILY.BILL_MEDIA        IS '票据介质     ';
COMMENT ON COLUMN PED_ASSET_DAILY.BILL_TYPE         IS '票据类型     ';
COMMENT ON COLUMN PED_ASSET_DAILY.ISSUE_DT          IS '出票日      ';
COMMENT ON COLUMN PED_ASSET_DAILY.DUE_DT            IS '到期日      ';
COMMENT ON COLUMN PED_ASSET_DAILY.BAN_ENDRSMT_FLAG  IS '不得转让标记   ';
COMMENT ON COLUMN PED_ASSET_DAILY.DRWR_NAME         IS '出票人名称    ';
COMMENT ON COLUMN PED_ASSET_DAILY.DRWR_BANK_NO      IS '出票人开户行行号 ';
COMMENT ON COLUMN PED_ASSET_DAILY.ACPT_NAME         IS '承兑人/承兑行名称';
COMMENT ON COLUMN PED_ASSET_DAILY.ACPT_BANK_NAME    IS '承兑人开户行名称 ';
COMMENT ON COLUMN PED_ASSET_DAILY.ACPT_BANK_NO      IS '承兑人开户行行号 ';
COMMENT ON COLUMN PED_ASSET_DAILY.PYEE_NAME         IS '收款人名称    ';
COMMENT ON COLUMN PED_ASSET_DAILY.PYEE_BANK_NAME    IS '收款人开户行行名 ';
COMMENT ON COLUMN PED_ASSET_DAILY.PYEE_BANK_NO      IS '收款人开户行行号 ';
COMMENT ON COLUMN PED_ASSET_DAILY.ed_pyeeAcctId      IS '收款人账号';
COMMENT ON COLUMN PED_ASSET_DAILY.ed_drwrAcctId      IS '出票人账号 ';
COMMENT ON COLUMN PED_ASSET_DAILY.CREATE_TIME       IS '创建时间     ';


/*==============================================================*/
/* Index: PED_CRDT_DAILY：每日融资业务明细表                                      */
/*==============================================================*/

DROP TABLE PED_CRDT_DAILY;
CREATE TABLE PED_CRDT_DAILY(
	ID           VARCHAR2(40) PRIMARY KEY NOT NULL,
	BATCH_ID     VARCHAR2(40 ),
	BPS_NO       VARCHAR2(40 ) NOT NULL,
	BPS_NAME     VARCHAR2(240),
	CUST_NO      VARCHAR2(10 ),
	CUST_NAME    VARCHAR2(240),
	CREATE_DATE  DATE NOT NULL,
	CRDT_TYPE    VARCHAR2(5  ) NOT NULL,
	CRDT_NO      VARCHAR2(40 ) NOT NULL,
	LOAN_NO      VARCHAR2(40 ) NOT NULL,
	LOAN_AMT     NUMBER(16,2) NOT NULL,
	LOAN_BALANCE NUMBER(16,2) NOT NULL,
    CCUPY        VARCHAR2(10) NOT NULL,
	RISK_LEVEL   VARCHAR2(5) NOT NULL,
	START_DATE   DATE NOT NULL,
	END_DATE     DATE NOT NULL,
	CREATE_TIME      TIMESTAMP,
	IS_ONLINE    VARCHAR2(2)

	);
COMMENT ON COLUMN PED_CRDT_DAILY.ID  IS '主键ID';
COMMENT ON COLUMN PED_CRDT_DAILY.BATCH_ID      IS '批次ID ';
COMMENT ON COLUMN PED_CRDT_DAILY.BPS_NO        IS '票据池编号';
COMMENT ON COLUMN PED_CRDT_DAILY.BPS_NAME      IS '票据池名称';
COMMENT ON COLUMN PED_CRDT_DAILY.CUST_NO       IS '客户号';
COMMENT ON COLUMN PED_CRDT_DAILY.CUST_NAME     IS '客户名称 ';
COMMENT ON COLUMN PED_CRDT_DAILY.CREATE_DATE   IS '创建日期 ';
COMMENT ON COLUMN PED_CRDT_DAILY.CRDT_TYPE     IS '融资业务类型 ';
COMMENT ON COLUMN PED_CRDT_DAILY.CRDT_NO       IS '合同号';
COMMENT ON COLUMN PED_CRDT_DAILY.LOAN_NO       IS '借据号';
COMMENT ON COLUMN PED_CRDT_DAILY.LOAN_AMT      IS '业务金额 ';
COMMENT ON COLUMN PED_CRDT_DAILY.LOAN_BALANCE  IS '业务余额 ';
COMMENT ON COLUMN PED_CRDT_DAILY.CCUPY         IS '占用额度比例 ';
COMMENT ON COLUMN PED_CRDT_DAILY.RISK_LEVEL    IS '占用额度类型 ';
COMMENT ON COLUMN PED_CRDT_DAILY.START_DATE    IS '融资业务起始日';
COMMENT ON COLUMN PED_CRDT_DAILY.END_DATE      IS '融资业务到期日';
COMMENT ON COLUMN PED_CRDT_DAILY.CREATE_TIME   IS '创建时间 ';
COMMENT ON COLUMN PED_CRDT_DAILY.IS_ONLINE   IS '是否线上 1 是 0 否 ';



/*==============================================================*/
/* TABLE: PED_CREDIT_CALCULATION  额度计算表                                     */
/*==============================================================*/
DROP TABLE PED_CREDIT_CALCULATION CASCADE CONSTRAINTS;
CREATE TABLE PED_CREDIT_CALCULATION  (
   ID                   VARCHAR2(36)                    NOT NULL,
   CUST_POOL_NAME       VARCHAR2(180)                   NOT NULL,
   CERT_TYPE            VARCHAR2(2)                    DEFAULT '03' NOT NULL,
   CERT_CODE            VARCHAR2(18)                    NOT NULL,
   BPS_NO               VARCHAR2(20),
   START_DATE           DATE,
   END_DATE             DATE,
   LOW_RISK_IN   NUMBER(20,2)                   DEFAULT 0,
   LOW_RISK_OUT  NUMBER(20,2),
   LOW_RISK_CASH_FLOW NUMBER(20,2)                   DEFAULT 0,
   HIGH_RISK_IN  NUMBER(20,2)                   DEFAULT 0,
   HIGH_RISK_OUT NUMBER(20,2)                   DEFAULT 0,
   HIGH_RISK_CASH_FLOW NUMBER(20,2)                   DEFAULT 0,
   LOW_RISK_CREDIT NUMBER(20,2)                   DEFAULT 0,
   HIGH_RISK_CREDIT NUMBER(20,2)                   DEFAULT 0,
   TRANS_DATE           DATE,
   CREATE_DATE          DATE                           DEFAULT SYSDATE,
   UPDATE_DATE          DATE                           DEFAULT SYSDATE NOT NULL,
   DEL_FLAG             VARCHAR2(1)                    DEFAULT 'N' NOT NULL,
   CONSTRAINT PK_PED_CREDIT_CALCULATION PRIMARY KEY (ID)
);
COMMENT ON TABLE PED_CREDIT_CALCULATION is  '资产各实点流入流出流水表';
COMMENT ON COLUMN PED_CREDIT_CALCULATION.ID is  '主键';
COMMENT ON COLUMN PED_CREDIT_CALCULATION.CUST_POOL_NAME is  '客户资产池名称';
COMMENT ON COLUMN PED_CREDIT_CALCULATION.CERT_TYPE is  '证件类型:01组织机构代码、02统一授信编码、03客户号';
COMMENT ON COLUMN PED_CREDIT_CALCULATION.CERT_CODE is  '证件号';
COMMENT ON COLUMN PED_CREDIT_CALCULATION.BPS_NO is  '客户票据池编号';
COMMENT ON COLUMN PED_CREDIT_CALCULATION.START_DATE is  '开始日期';
COMMENT ON COLUMN PED_CREDIT_CALCULATION.END_DATE is  '结束日期';
COMMENT ON COLUMN PED_CREDIT_CALCULATION.LOW_RISK_IN is  '低风险流入资金';
COMMENT ON COLUMN PED_CREDIT_CALCULATION.LOW_RISK_OUT is  '低风险流出资金';
COMMENT ON COLUMN PED_CREDIT_CALCULATION.LOW_RISK_CASH_FLOW is  '低风险资金实点';
COMMENT ON COLUMN PED_CREDIT_CALCULATION.HIGH_RISK_IN is  '高风险流入资金';
COMMENT ON COLUMN PED_CREDIT_CALCULATION.HIGH_RISK_OUT is  '高风险流出资金';
COMMENT ON COLUMN PED_CREDIT_CALCULATION.HIGH_RISK_CASH_FLOW is  '高风险资金实点';
COMMENT ON COLUMN PED_CREDIT_CALCULATION.LOW_RISK_CREDIT is  '低风险可用额度';
COMMENT ON COLUMN PED_CREDIT_CALCULATION.HIGH_RISK_CREDIT is  '高风险可用额度';
COMMENT ON COLUMN PED_CREDIT_CALCULATION.TRANS_DATE is  '交易日期(不含时分秒)';
COMMENT ON COLUMN PED_CREDIT_CALCULATION.CREATE_DATE is  '创建日期(含时分秒)';
COMMENT ON COLUMN PED_CREDIT_CALCULATION.UPDATE_DATE is  '更新日期(含时分秒)';
COMMENT ON COLUMN PED_CREDIT_CALCULATION.DEL_FLAG is  '逻辑删除标记-N未删除、D已删除';



/* ============================================================== */
/* TABLE: PED_ASSET_REGISTER_CACHE   资产登记簿缓存表                         */
/* ============================================================== */
DROP TABLE PED_ASSET_REGISTER_CACHE;
CREATE TABLE PED_ASSET_REGISTER_CACHE  (
   ID                   VARCHAR2(36)                    NOT NULL,
   AP_ID                VARCHAR2(36)                    NOT NULL,
   AT_ID                VARCHAR2(36)                    NOT NULL,
   CUST_POOL_NAME       VARCHAR2(180)                   NOT NULL,
   CERT_TYPE            VARCHAR2(2)                     DEFAULT '03' NOT NULL,
   CERT_CODE            VARCHAR2(18)                    NOT NULL,
   BPS_NO               VARCHAR2(20),
   ASSET_NO             VARCHAR2(32)                    NOT NULL,
   ASSET_TYPE           VARCHAR2(5),
   RISK_TYPE            VARCHAR2(5)                    DEFAULT 'FX_03',
   ASSET_AMOUNT         NUMBER(16,2)                   DEFAULT 0,
   ASSET_DUEDT          DATE,
   ASSET_DELAY_DUEDT    DATE,
   TRANS_DATE           DATE,
   CREATE_DATE          DATE                           DEFAULT SYSDATE,
   UPDATE_DATE          DATE                           DEFAULT SYSDATE NOT NULL,
   FLOW_NO              VARCHAR2(40)                    NOT NULL,  
   CONSTRAINT PK_PED_ASSET_REGISTER_CACHE PRIMARY KEY (ID)
);

COMMENT ON TABLE PED_ASSET_REGISTER_CACHE IS  '资产登记簿';
COMMENT ON COLUMN PED_ASSET_REGISTER_CACHE.ID IS  '主键';
COMMENT ON COLUMN PED_ASSET_REGISTER_CACHE.AP_ID IS  '资产池PED_ASSET_POOL表ID';
COMMENT ON COLUMN PED_ASSET_REGISTER_CACHE.AT_ID IS  '资产类PED_ASSET_TYPE表ID';
COMMENT ON COLUMN PED_ASSET_REGISTER_CACHE.CUST_POOL_NAME IS  '客户资产池名称';
COMMENT ON COLUMN PED_ASSET_REGISTER_CACHE.CERT_TYPE IS  '证件类型:01组织机构代码、02统一授信编码、03客户号';
COMMENT ON COLUMN PED_ASSET_REGISTER_CACHE.CERT_CODE IS  '证件号';
COMMENT ON COLUMN PED_ASSET_REGISTER_CACHE.BPS_NO IS  '客户票据池编号';
COMMENT ON COLUMN PED_ASSET_REGISTER_CACHE.ASSET_NO IS  '资产编号-存账号或票据号';
COMMENT ON COLUMN PED_ASSET_REGISTER_CACHE.ASSET_TYPE IS  '资产类-ED_10低风险票据、ED_11高风险票据、ED_21活期保证金、ED_22定期保证金';
COMMENT ON COLUMN PED_ASSET_REGISTER_CACHE.RISK_TYPE IS  '风险类型-低风险FX_01、高风险FX_02、不在风险名单FX_03';
COMMENT ON COLUMN PED_ASSET_REGISTER_CACHE.ASSET_AMOUNT IS  '资产金额';
COMMENT ON COLUMN PED_ASSET_REGISTER_CACHE.ASSET_DUEDT IS  '资产到期日';
COMMENT ON COLUMN PED_ASSET_REGISTER_CACHE.ASSET_DELAY_DUEDT IS  '资产顺延到日期';
COMMENT ON COLUMN PED_ASSET_REGISTER_CACHE.TRANS_DATE IS  '交易日期(不含时分秒)';
COMMENT ON COLUMN PED_ASSET_REGISTER_CACHE.CREATE_DATE IS  '创建日期(含时分秒)';
COMMENT ON COLUMN PED_ASSET_REGISTER_CACHE.UPDATE_DATE IS  '更新日期(含时分秒)';
COMMENT ON COLUMN PED_ASSET_REGISTER_CACHE.FLOW_NO IS  '流水号';

--额度计算表缓存表
DROP TABLE PED_CREDIT_CALCU_CACHE;
CREATE TABLE PED_CREDIT_CALCU_CACHE  (
   ID                   VARCHAR2(36)                    NOT NULL,
   CUST_POOL_NAME       VARCHAR2(180)                   NOT NULL,
   CERT_TYPE            VARCHAR2(2)                    DEFAULT '03' NOT NULL,
   CERT_CODE            VARCHAR2(18)                    NOT NULL,
   BPS_NO               VARCHAR2(20),
   START_DATE           DATE,
   END_DATE             DATE,
   LOW_RISK_IN   NUMBER(20,2)                   DEFAULT 0,
   LOW_RISK_OUT  NUMBER(20,2),
   LOW_RISK_CASH_FLOW NUMBER(20,2)                   DEFAULT 0,
   HIGH_RISK_IN  NUMBER(20,2)                   DEFAULT 0,
   HIGH_RISK_OUT NUMBER(20,2)                   DEFAULT 0,
   HIGH_RISK_CASH_FLOW NUMBER(20,2)                   DEFAULT 0,
   LOW_RISK_CREDIT NUMBER(20,2)                   DEFAULT 0,
   HIGH_RISK_CREDIT NUMBER(20,2)                   DEFAULT 0,
   TRANS_DATE           DATE,
   CREATE_DATE          DATE                           DEFAULT SYSDATE,
   UPDATE_DATE          DATE                           DEFAULT SYSDATE NOT NULL,
   DEL_FLAG             VARCHAR2(1)                    DEFAULT 'N' NOT NULL,
   FLOW_NO              VARCHAR2(40)                    NOT NULL,  
   CONSTRAINT PK_PED_CREDIT_CALCU_CACHE PRIMARY KEY (ID)
);
COMMENT ON TABLE PED_CREDIT_CALCU_CACHE is  '资产各实点流入流出流水表';
COMMENT ON COLUMN PED_CREDIT_CALCU_CACHE.ID is  '主键';
COMMENT ON COLUMN PED_CREDIT_CALCU_CACHE.CUST_POOL_NAME is  '客户资产池名称';
COMMENT ON COLUMN PED_CREDIT_CALCU_CACHE.CERT_TYPE is  '证件类型:01组织机构代码、02统一授信编码、03客户号';
COMMENT ON COLUMN PED_CREDIT_CALCU_CACHE.CERT_CODE is  '证件号';
COMMENT ON COLUMN PED_CREDIT_CALCU_CACHE.BPS_NO is  '客户票据池编号';
COMMENT ON COLUMN PED_CREDIT_CALCU_CACHE.START_DATE is  '开始日期';
COMMENT ON COLUMN PED_CREDIT_CALCU_CACHE.END_DATE is  '结束日期';
COMMENT ON COLUMN PED_CREDIT_CALCU_CACHE.LOW_RISK_IN is  '低风险流入资金';
COMMENT ON COLUMN PED_CREDIT_CALCU_CACHE.LOW_RISK_OUT is  '低风险流出资金';
COMMENT ON COLUMN PED_CREDIT_CALCU_CACHE.LOW_RISK_CASH_FLOW is  '低风险资金实点';
COMMENT ON COLUMN PED_CREDIT_CALCU_CACHE.HIGH_RISK_IN is  '高风险流入资金';
COMMENT ON COLUMN PED_CREDIT_CALCU_CACHE.HIGH_RISK_OUT is  '高风险流出资金';
COMMENT ON COLUMN PED_CREDIT_CALCU_CACHE.HIGH_RISK_CASH_FLOW is  '高风险资金实点';
COMMENT ON COLUMN PED_CREDIT_CALCU_CACHE.LOW_RISK_CREDIT is  '低风险可用额度';
COMMENT ON COLUMN PED_CREDIT_CALCU_CACHE.HIGH_RISK_CREDIT is  '高风险可用额度';
COMMENT ON COLUMN PED_CREDIT_CALCU_CACHE.TRANS_DATE is  '交易日期(不含时分秒)';
COMMENT ON COLUMN PED_CREDIT_CALCU_CACHE.CREATE_DATE is  '创建日期(含时分秒)';
COMMENT ON COLUMN PED_CREDIT_CALCU_CACHE.UPDATE_DATE is  '更新日期(含时分秒)';
COMMENT ON COLUMN PED_CREDIT_CALCU_CACHE.DEL_FLAG is  '逻辑删除标记-N未删除、D已删除';
COMMENT ON COLUMN PED_CREDIT_CALCU_CACHE.FLOW_NO IS  '流水号';

DROP TABLE PED_CREDIT_REGISTER_CACHE;
CREATE TABLE PED_CREDIT_REGISTER_CACHE  (
   ID                   VARCHAR2(36)                    NOT NULL,
   BPS_NO               VARCHAR2(20)                    NOT NULL,
   AP_ID                VARCHAR2(36)                    not null,   
   BUSI_ID              VARCHAR2(36)                    NOT NULL,
   BUSI_NO              VARCHAR2(30)                    NOT NULL,
   VOUCHER_TYPE         VARCHAR2(1)                    DEFAULT '0' NOT NULL,
   CONTRACT_NO          VARCHAR2(30),
   IS_ONLINE            VARCHAR2(1)                    DEFAULT '0' NOT NULL,
   BUSI_TYPE            VARCHAR2(5)                    DEFAULT 'XD_01' NOT NULL,
   RISK_TYPE            VARCHAR2(5)                    DEFAULT 'FX_01' NOT NULL,
   BUSI_AMOUNT          NUMBER(16,2)                   DEFAULT 0 NOT NULL,
   OCCUPY_RATIO         NUMBER(6,4)                    DEFAULT 1 NOT NULL,
   OCCUPY_AMOUNT        NUMBER(16,2)                   DEFAULT 0,
   OCCUPY_CREDIT        NUMBER(16,2)                   DEFAULT 0,
   DUE_DATE             DATE,
   TRANS_DATE           DATE,
   CREATE_DATE          DATE                           DEFAULT SYSDATE NOT NULL,
   UPDATE_DATE          DATE                           DEFAULT SYSDATE NOT NULL,
   FLOW_NO              VARCHAR2(40)                    NOT NULL, 
   CONSTRAINT PK_PED_CREDIT_REGISTER_CACHE PRIMARY KEY (ID)
);
COMMENT ON TABLE PED_CREDIT_REGISTER_CACHE IS  '融资业务用信登记表';
COMMENT ON COLUMN PED_CREDIT_REGISTER_CACHE.ID IS  '主键';
COMMENT ON COLUMN PED_CREDIT_REGISTER_CACHE.BPS_NO IS  '票据池协议编号';
comment on column PED_CREDIT_REGISTER_CACHE.AP_ID is '资产池PED_ASSET_POOL表ID';
COMMENT ON COLUMN PED_CREDIT_REGISTER_CACHE.BUSI_ID IS  '原业务ID-主业务合同表ID或借据表ID';
COMMENT ON COLUMN PED_CREDIT_REGISTER_CACHE.BUSI_NO IS  '原业务编号-主业务合同号或借据号';
COMMENT ON COLUMN PED_CREDIT_REGISTER_CACHE.VOUCHER_TYPE IS  '凭证类型:0主业务合同、1借据';
COMMENT ON COLUMN PED_CREDIT_REGISTER_CACHE.CONTRACT_NO IS  '主业务合同号';
COMMENT ON COLUMN PED_CREDIT_REGISTER_CACHE.IS_ONLINE IS  '是否线上业务-0否、1是';
COMMENT ON COLUMN PED_CREDIT_REGISTER_CACHE.BUSI_TYPE IS  '业务类型-XD_01银承、XD_11流贷、XD_03保函、XD_04信用证、XD_05表外业务垫款';
COMMENT ON COLUMN PED_CREDIT_REGISTER_CACHE.RISK_TYPE IS  '风险类型-低风险FX_01、高风险FX_02、不在风险名单FX_03';
COMMENT ON COLUMN PED_CREDIT_REGISTER_CACHE.BUSI_AMOUNT IS  '业务金额(合同金额、借据金额)';
COMMENT ON COLUMN PED_CREDIT_REGISTER_CACHE.OCCUPY_RATIO IS  '占用比例-0.##-1';
COMMENT ON COLUMN PED_CREDIT_REGISTER_CACHE.OCCUPY_AMOUNT IS  '业务实际占用金额';
COMMENT ON COLUMN PED_CREDIT_REGISTER_CACHE.OCCUPY_CREDIT IS  '实际占用额度';
COMMENT ON COLUMN PED_CREDIT_REGISTER_CACHE.DUE_DATE IS  '到期日';
COMMENT ON COLUMN PED_CREDIT_REGISTER_CACHE.TRANS_DATE IS  '交易日期(不含时分秒)';
COMMENT ON COLUMN PED_CREDIT_REGISTER_CACHE.CREATE_DATE IS  '创建日期(含时分秒)';
COMMENT ON COLUMN PED_CREDIT_REGISTER_CACHE.UPDATE_DATE IS  '更新日期(含时分秒)';
COMMENT ON COLUMN PED_CREDIT_REGISTER_CACHE.FLOW_NO IS  '流水号';


drop table PED_CREDIT_REGISTER cascade constraints;
create table PED_CREDIT_REGISTER  (
   ID                   VARCHAR2(36)                    not null,
   AP_ID                VARCHAR2(36)                    not null,
   BPS_NO               VARCHAR2(20)                    not null,
   BUSI_ID              VARCHAR2(36)                    not null,
   BUSI_NO              VARCHAR2(30)                    not null,
   VOUCHER_TYPE         VARCHAR2(1)                    default '0' not null,
   CONTRACT_NO          VARCHAR2(30),
   IS_ONLINE            VARCHAR2(1)                    default '0' not null,
   BUSI_TYPE            VARCHAR2(5)                    default 'XD_01' not null,
   RISK_TYPE            VARCHAR2(5)                    default 'FX_01' not null,
   BUSI_AMOUNT          NUMBER(16,2)                   default 0 not null,
   OCCUPY_RATIO         NUMBER(6,4)                    default 1 not null,
   OCCUPY_AMOUNT        NUMBER(16,2)                   default 0,
   OCCUPY_CREDIT        NUMBER(16,2)                   default 0,
   DUE_DATE             DATE,
   TRANS_DATE           DATE,
   CREATE_DATE          DATE                           default sysdate not null,
   UPDATE_DATE          DATE                           default sysdate not null,
   constraint PK_PED_CREDIT_REGISTER primary key (ID)
);

comment on table PED_CREDIT_REGISTER is '融资业务用信登记表';
comment on column PED_CREDIT_REGISTER.ID is '主键';
comment on column PED_CREDIT_REGISTER.AP_ID is '资产池PED_ASSET_POOL表ID';
comment on column PED_CREDIT_REGISTER.BPS_NO is '票据池协议编号';
comment on column PED_CREDIT_REGISTER.BUSI_ID is '原业务ID-主业务合同表ID或借据表ID';
comment on column PED_CREDIT_REGISTER.BUSI_NO is '原业务编号-主业务合同号或借据号';
comment on column PED_CREDIT_REGISTER.VOUCHER_TYPE is '凭证类型:0主业务合同、1借据';
comment on column PED_CREDIT_REGISTER.CONTRACT_NO is '主业务合同号';
comment on column PED_CREDIT_REGISTER.IS_ONLINE is '是否线上业务-0否、1是';
comment on column PED_CREDIT_REGISTER.BUSI_TYPE is '业务类型-XD_01银承、XD_11流贷、XD_03保函、XD_04信用证、XD_05表外业务垫款';
comment on column PED_CREDIT_REGISTER.RISK_TYPE is '风险类型-低风险FX_01、高风险FX_02、不在风险名单FX_03';
comment on column PED_CREDIT_REGISTER.BUSI_AMOUNT is '业务金额(合同金额、借据金额)';
comment on column PED_CREDIT_REGISTER.OCCUPY_RATIO is '占用比例-0.##-1';
comment on column PED_CREDIT_REGISTER.OCCUPY_AMOUNT is '业务实际占用金额';
comment on column PED_CREDIT_REGISTER.OCCUPY_CREDIT is '实际占用额度';
comment on column PED_CREDIT_REGISTER.DUE_DATE is '到期日';
comment on column PED_CREDIT_REGISTER.TRANS_DATE is '交易日期(不含时分秒)';
comment on column PED_CREDIT_REGISTER.CREATE_DATE is '创建日期(含时分秒)';
comment on column PED_CREDIT_REGISTER.UPDATE_DATE is '更新日期(含时分秒)';

create index IDX_CREDITREG_BPSNO on PED_CREDIT_REGISTER (
   BPS_NO ASC
);

create index IDX_CREDITREG_APID on PED_CREDIT_REGISTER (
   AP_ID ASC
);

drop table PED_CREDIT_REGISTER_HIS cascade constraints;
create table PED_CREDIT_REGISTER_HIS  (
   ID                   VARCHAR2(36)                    not null,
   AP_ID                VARCHAR2(36)                    not null,
   BPS_NO               VARCHAR2(20)                    not null,
   BUSI_ID              VARCHAR2(36)                    not null,
   BUSI_NO              VARCHAR2(30)                    not null,
   VOUCHER_TYPE         VARCHAR2(1)                    default '0' not null,
   CONTRACT_NO          VARCHAR2(30),
   IS_ONLINE            VARCHAR2(1)                    default '0' not null,
   BUSI_TYPE            VARCHAR2(5)                    default 'XD_01' not null,
   RISK_TYPE            VARCHAR2(5)                    default 'FX_01' not null,
   BUSI_AMOUNT          NUMBER(16,2)                   default 0 not null,
   OCCUPY_RATIO         NUMBER(6,4)                    default 1 not null,
   OCCUPY_AMOUNT        NUMBER(16,2)                   default 0,
   OCCUPY_CREDIT        NUMBER(16,2)                   default 0,
   DUE_DATE             DATE,
   TRANS_DATE           DATE,
   CREATE_DATE          DATE                           default sysdate not null,
   UPDATE_DATE          DATE                           default sysdate not null,
   DEL_FLAG             VARCHAR2(1)                    default 'N' not null,
   constraint PK_PED_CREDIT_REGISTER_HIS primary key (ID)
);

comment on table PED_CREDIT_REGISTER_HIS is '融资业务用信历史变更信息';
comment on column PED_CREDIT_REGISTER_HIS.ID is '主键';
comment on column PED_CREDIT_REGISTER_HIS.AP_ID is '资产池PED_ASSET_POOL表ID';
comment on column PED_CREDIT_REGISTER_HIS.BPS_NO is '票据池协议编号';
comment on column PED_CREDIT_REGISTER_HIS.BUSI_ID is '原业务ID-主业务合同表ID或借据表ID';
comment on column PED_CREDIT_REGISTER_HIS.BUSI_NO is '原业务编号-主业务合同号或借据号';
comment on column PED_CREDIT_REGISTER_HIS.VOUCHER_TYPE is '凭证类型:0主业务合同、1借据';
comment on column PED_CREDIT_REGISTER_HIS.CONTRACT_NO is '主业务合同号';
comment on column PED_CREDIT_REGISTER_HIS.IS_ONLINE is '是否线上业务-0否、1是';
comment on column PED_CREDIT_REGISTER_HIS.BUSI_TYPE is '业务类型-XD_01银承、XD_11流贷、XD_03保函、XD_04信用证、XD_05表外业务垫款';
comment on column PED_CREDIT_REGISTER_HIS.RISK_TYPE is '风险类型-低风险FX_01、高风险FX_02、不在风险名单FX_03';
comment on column PED_CREDIT_REGISTER_HIS.BUSI_AMOUNT is '业务金额(合同金额、借据金额)';
comment on column PED_CREDIT_REGISTER_HIS.OCCUPY_RATIO is '占用比例-0.##-1'; 
comment on column PED_CREDIT_REGISTER_HIS.OCCUPY_AMOUNT is '业务实际占用金额-上限=业务金额';
comment on column PED_CREDIT_REGISTER_HIS.OCCUPY_CREDIT is '实际占用额度';
comment on column PED_CREDIT_REGISTER_HIS.DUE_DATE is '到期日';
comment on column PED_CREDIT_REGISTER_HIS.TRANS_DATE is '交易日期(不含时分秒)';
comment on column PED_CREDIT_REGISTER_HIS.CREATE_DATE is '创建日期(含时分秒)';
comment on column PED_CREDIT_REGISTER_HIS.UPDATE_DATE is '更新日期(含时分秒)';
comment on column PED_CREDIT_REGISTER_HIS.DEL_FLAG is '逻辑删除标记-N未删除、D已删除';

create index IDX_CREDITREGHIS_APID on PED_CREDIT_REGISTER_HIS (
   AP_ID ASC
);
create index IDX_CREDITREGHIS_BPSNO on PED_CREDIT_REGISTER_HIS (
   BPS_NO ASC
);

DROP TABLE BO_CUSTOMER_REGISTER ;
CREATE TABLE BO_CUSTOMER_REGISTER  (
   ID                   VARCHAR2(36)                    NOT NULL,
   CUST_NO              VARCHAR2(20)                    NOT NULL,
   CUST_NAME            VARCHAR2(150)                   NOT NULL,
   AUTH_BRANCH_NO       VARCHAR2(20)                    NOT NULL,
   FIRST_SIGN_DATE      DATE                           DEFAULT SYSDATE NOT NULL,
   CREATE_DATE          DATE                           DEFAULT SYSDATE NOT NULL,
   UPDATE_DATE          DATE                           DEFAULT SYSDATE NOT NULL,
   OL_PRDT_SERIAL_NO     INT                            default 0,
   OL_LOAN_SERIAL_NO     INT                            default 0,
   CONSTRAINT PK_BO_CUSTOMER_REGISTER PRIMARY KEY (ID)
);

COMMENT ON TABLE BO_CUSTOMER_REGISTER IS  '客户信息登记表';
COMMENT ON COLUMN BO_CUSTOMER_REGISTER.ID IS  '主键';
COMMENT ON COLUMN BO_CUSTOMER_REGISTER.CUST_NO IS  '客户号';
COMMENT ON COLUMN BO_CUSTOMER_REGISTER.CUST_NAME IS  '客户名称';
COMMENT ON COLUMN BO_CUSTOMER_REGISTER.AUTH_BRANCH_NO IS  '归属机构';
COMMENT ON COLUMN BO_CUSTOMER_REGISTER.FIRST_SIGN_DATE IS  '首次签约日期';
COMMENT ON COLUMN BO_CUSTOMER_REGISTER.CREATE_DATE IS  '创建时间';
COMMENT ON COLUMN BO_CUSTOMER_REGISTER.UPDATE_DATE IS  '更新时间';

drop table AUDIT_ROUTE cascade constraints;
create table AUDIT_ROUTE  (
   ROUTE_ID             VARCHAR2(40)                    not null,
   MEMBER_CODE          VARCHAR2(10)                    not null,
   AUDIT_ROUTE_NAME     VARCHAR2(40),
   DESCRIPTION          VARCHAR2(255),
   CONN_THRID_SYS       NUMBER                         default 0 not null,
   UPDATE_DATE          DATE,
   constraint PK_AUDIT_ROUTE primary key (ROUTE_ID)
);

comment on table AUDIT_ROUTE is '审批路线信息表';
comment on column AUDIT_ROUTE.ROUTE_ID is '主键id';
comment on column AUDIT_ROUTE.MEMBER_CODE is '会员编码';
comment on column AUDIT_ROUTE.AUDIT_ROUTE_NAME is '审核路线名称';
comment on column AUDIT_ROUTE.DESCRIPTION is '描述';
comment on column AUDIT_ROUTE.CONN_THRID_SYS is '是否对接第三方系统：0否、1是';
comment on column AUDIT_ROUTE.UPDATE_DATE is '最后更新时间';

create index IDX_AUDITROUTE_1 on AUDIT_ROUTE (
   MEMBER_CODE ASC
);

drop table AUDIT_NODE cascade constraints;
create table AUDIT_NODE  (
   NODE_ID              VARCHAR2(40)                    not null,
   NODE_NAME            VARCHAR2(40),
   BACK_NODE            VARCHAR2(40),
   NEXT_NODE            VARCHAR2(40),
   OPT_ROLE             VARCHAR2(40),
   NODENUM              VARCHAR2(255),
   LIMIT_AMT            NUMBER(19,2),
   DESCRIPTION          VARCHAR2(255),
   ROUTE_ID             VARCHAR2(255),
   NODE_LEVEL           VARCHAR2(10),
   END_FILG             VARCHAR2(2),
   NODE_TYPE            VARCHAR2(1),
   MVEL_EXPR            VARCHAR2(1000),
   CP_AUDIT_FLAG        VARCHAR2(1)                    default '0',
   CONDITIONS           VARCHAR2(255),
   constraint PK_AUDIT_NODE primary key (NODE_ID)
);

comment on table AUDIT_NODE is '审批节点';
comment on column AUDIT_NODE.NODE_ID is '主键id';
comment on column AUDIT_NODE.NODE_NAME is '审核节点名称';
comment on column AUDIT_NODE.BACK_NODE is '驳回岗位';
comment on column AUDIT_NODE.NEXT_NODE is '下一岗位';
comment on column AUDIT_NODE.OPT_ROLE is '执行角色';
comment on column AUDIT_NODE.NODENUM is '执行序号';
comment on column AUDIT_NODE.LIMIT_AMT is '审批金额';
comment on column AUDIT_NODE.DESCRIPTION is '描述';
comment on column AUDIT_NODE.ROUTE_ID is '审核路线主键';
comment on column AUDIT_NODE.NODE_LEVEL is '本岗级别';
comment on column AUDIT_NODE.END_FILG is '是否权限内结束:1是、0否';
comment on column AUDIT_NODE.NODE_TYPE is '节点类型:0人工节点、1自动节点';
comment on column AUDIT_NODE.MVEL_EXPR is 'mvel动态表达式';
comment on column AUDIT_NODE.CP_AUDIT_FLAG is '交易对手审批标记:1是（系统内转贴现交易对手审批时设定）、0否';
comment on column AUDIT_NODE.CONDITIONS is '审批条件';

drop table AUDIT_ROUTE_PARAMTER cascade constraints;
create table AUDIT_ROUTE_PARAMTER  (
   ID                   VARCHAR2(40)                    not null,
   ROUTE_ID             VARCHAR2(40)                    not null,
   PARAM_NAME           VARCHAR2(60)                    not null,
   PARAM_CODE           VARCHAR2(30)                    not null,
   DATA_TYPE            VARCHAR2(10)                   default 'String' not null,
   constraint PK_AUDIT_ROUTE_PARAMTER primary key (ID)
);

comment on table AUDIT_ROUTE_PARAMTER is '审核路请求参数表';
comment on column AUDIT_ROUTE_PARAMTER.ID is '主键id';
comment on column AUDIT_ROUTE_PARAMTER.ROUTE_ID is '审核路线ID';
comment on column AUDIT_ROUTE_PARAMTER.PARAM_NAME is '参数中文名称'; 
comment on column AUDIT_ROUTE_PARAMTER.PARAM_CODE is '参数名称(区分大小写)';
comment on column AUDIT_ROUTE_PARAMTER.DATA_TYPE is '参数数据类型：文本String、整数int、金额BigDecimal';

create index IDX_ROUTE_PARA on AUDIT_ROUTE_PARAMTER (
   ROUTE_ID ASC
);

drop table BT_APPROVE cascade constraints;
create table BT_APPROVE  (
   PK_APPROVE_ID        VARCHAR2(40)                    not null,
   S_PROCESS_ID         VARCHAR2(40)                    not null,
   S_BUSSINESS_ID       VARCHAR2(40)                    not null,
   S_APPROVE_USERNM     VARCHAR2(200),
   S_APPROVE_USERID     VARCHAR2(40)                    not null,
   S_APPROVE_FLAG       VARCHAR2(10),
   S_APPROVE_COMMENT    VARCHAR2(255),
   D_APPROVE_DATE       TIMESTAMP                       not null,
   S_APPROVE_DEPT       VARCHAR2(200),
   S_APPROVE_DEPTID     VARCHAR2(40)                    not null,
   APPROVE_ROLE         VARCHAR2(50),
   NODE_NUM             VARCHAR2(3)                     not null,
   NEXT_NODE_NUM        VARCHAR2(3)
);

comment on table BT_APPROVE is '保存所有工作流审批的所有审批的意见。';
comment on column BT_APPROVE.PK_APPROVE_ID is '主键ID';
comment on column BT_APPROVE.S_PROCESS_ID is '流程节点ID（审批受理表ID）';
comment on column BT_APPROVE.S_BUSSINESS_ID is '原业务ID';
comment on column BT_APPROVE.S_APPROVE_USERNM is '审批人';
comment on column BT_APPROVE.S_APPROVE_USERID is '审批人ID';
comment on column BT_APPROVE.S_APPROVE_FLAG is '审批标识(1同意，0不同意)';
comment on column BT_APPROVE.S_APPROVE_COMMENT is '审批内容';
comment on column BT_APPROVE.D_APPROVE_DATE is '审批时间';
comment on column BT_APPROVE.S_APPROVE_DEPT is '审批机构名称';
comment on column BT_APPROVE.S_APPROVE_DEPTID is '审批机构ID';
comment on column BT_APPROVE.APPROVE_ROLE is '审批人所属角色名称';
comment on column BT_APPROVE.NODE_NUM is '审批节点编号';
comment on column BT_APPROVE.NEXT_NODE_NUM is '下一岗审批节点编号';

create index IDX_APPROVE_PROCESSID on BT_APPROVE (
   S_BUSSINESS_ID ASC,
   S_PROCESS_ID ASC
);


drop table BT_APPROVE_AUDIT cascade constraints;
create table BT_APPROVE_AUDIT  (
   ID                   VARCHAR2(40)                    not null,
   AUDIT_TYPE           VARCHAR2(10),
   BUSI_TYPE            VARCHAR2(10),
   BUSI_ID              VARCHAR2(40)                    not null,
   PRODUCT_ID           VARCHAR2(10)                    not null,
   APPLY_NO             VARCHAR2(40)                    not null,
   CUST_NAME            VARCHAR2(300),
   CUST_CERTNO          VARCHAR2(40),
   CUST_BANKNM          VARCHAR2(300),
   AUDIT_AMT            NUMBER(20,2),
   TOTAL_NUM            NUMBER,
   BILL_TYPE            VARCHAR2(4),
   BILL_MEDIA           VARCHAR2(1),
   ROUTE_ID             VARCHAR2(40)                    not null,
   OPEN_DATE            DATE                            not null,
   OPEN_USER_ID         VARCHAR2(40)                    not null,
   OPEN_USER_NM         VARCHAR2(200)                   not null,
   OPEN_BRANCH_ID       VARCHAR2(40)                    not null,
   OPEN_BRANCHNM        VARCHAR2(200)                   not null,
   INNER_BRANCH_ID      VARCHAR2(50),
   AUDIT_STATUS         VARCHAR2(5)                     not null,
   LAST_AUDIT_NODE_ID   VARCHAR2(50),
   LAST_AUDIT_USERNM    VARCHAR2(200),
   LAST_AUDIT_USER      VARCHAR2(40),
   LAST_AUDIT_BRANCHID  VARCHAR2(40),
   LAST_AUDIT_BRANCHNM  VARCHAR2(200),
   CUR_AUDIT_NODE_ID    VARCHAR2(50)                    not null,
   CUR_ROLE_NAME        VARCHAR2(200),
   CUR_AUDIT_USER       VARCHAR2(400)                   not null,
   CUR_AUDIT_USERNM     VARCHAR2(200)                   not null,
   CUR_AUDIT_BRANCHID   VARCHAR2(40)                    not null,
   CUR_AUDIT_BRANCHNM   VARCHAR2(200)                   not null,
   NEXT_AUDIT_NODE_ID   VARCHAR2(50),
   NEXT_AUDIT_USER      VARCHAR2(400),
   NEXT_AUDIT_USERNM    VARCHAR2(200),
   NEXT_AUDIT_BRANCHID  VARCHAR2(40),
   NEXT_AUDIT_BRANCHNM  VARCHAR2(200),
   ALL_USERS            VARCHAR2(400),
   LAST_UPDATE          DATE,
   constraint PK_BT_APPROVE_AUDIT primary key (ID)
);

comment on table BT_APPROVE_AUDIT is '审批受理表';
comment on column BT_APPROVE_AUDIT.ID is '主键ID';
comment on column BT_APPROVE_AUDIT.AUDIT_TYPE is '审批类型：01 批次审批 、02清单审批';
comment on column BT_APPROVE_AUDIT.BUSI_TYPE is '业务大类型：1贴现买入、2转贴现买入';
comment on column BT_APPROVE_AUDIT.BUSI_ID is '原业务ID';
comment on column BT_APPROVE_AUDIT.PRODUCT_ID is '产品ID：1001买断式贴现、1002回购式贴现';
comment on column BT_APPROVE_AUDIT.APPLY_NO is '业务申请号(可以为批次号、票据明细、自定义编号)';
comment on column BT_APPROVE_AUDIT.CUST_NAME is '交易对手名称';
comment on column BT_APPROVE_AUDIT.CUST_CERTNO is '交易对手证件号';
comment on column BT_APPROVE_AUDIT.CUST_BANKNM is '交易对手开户行名称';
comment on column BT_APPROVE_AUDIT.AUDIT_AMT is '审核金额(票据总金额)';
comment on column BT_APPROVE_AUDIT.TOTAL_NUM is '总笔数';
comment on column BT_APPROVE_AUDIT.BILL_TYPE is '票据类型';
comment on column BT_APPROVE_AUDIT.BILL_MEDIA is '票据介质:1纸质、2电子';
comment on column BT_APPROVE_AUDIT.ROUTE_ID is '审核路线ID';
comment on column BT_APPROVE_AUDIT.OPEN_DATE is '启动日期(业务申请日期)';
comment on column BT_APPROVE_AUDIT.OPEN_USER_ID is '启动审批流人员ID（业务申请人）';
comment on column BT_APPROVE_AUDIT.OPEN_USER_NM is '启动审批流人员名称（业务申请人名称）';
comment on column BT_APPROVE_AUDIT.OPEN_BRANCH_ID is '启动审批流机构ID（业务申请机构）';
comment on column BT_APPROVE_AUDIT.OPEN_BRANCHNM is '启动审批流机构名称（业务申请机构）';
comment on column BT_APPROVE_AUDIT.INNER_BRANCH_ID is '系统内交易对手机构ID（内部转贴现使用）';
comment on column BT_APPROVE_AUDIT.AUDIT_STATUS is '审批状态：SP_01提交审批、SP_02审批中、SP_03驳回、SP_04审批通过、SP_00终止(系统管理员可以直接终止)';
comment on column BT_APPROVE_AUDIT.LAST_AUDIT_NODE_ID is '上一审批节点号id';
comment on column BT_APPROVE_AUDIT.LAST_AUDIT_USERNM is '上一岗审批人员名称';
comment on column BT_APPROVE_AUDIT.LAST_AUDIT_USER is '上一岗审批人登录账号';
comment on column BT_APPROVE_AUDIT.LAST_AUDIT_BRANCHID is '上一岗审批人所属机构ID';
comment on column BT_APPROVE_AUDIT.LAST_AUDIT_BRANCHNM is '上一岗审批人所属机构名称';
comment on column BT_APPROVE_AUDIT.CUR_AUDIT_NODE_ID is '当前审批节点';
comment on column BT_APPROVE_AUDIT.CUR_ROLE_NAME is '角色名称';
comment on column BT_APPROVE_AUDIT.CUR_AUDIT_USER is '当前审批人登录账号，使用,分隔多个审核人';
comment on column BT_APPROVE_AUDIT.CUR_AUDIT_USERNM is '当前审批人名称';
comment on column BT_APPROVE_AUDIT.CUR_AUDIT_BRANCHID is '当前审批人员所属机构ID';
comment on column BT_APPROVE_AUDIT.CUR_AUDIT_BRANCHNM is '当前审批人员所属机构名称';
comment on column BT_APPROVE_AUDIT.NEXT_AUDIT_NODE_ID is '下一岗审批节点';
comment on column BT_APPROVE_AUDIT.NEXT_AUDIT_USER is '下一岗审批人员登录账号，使用,分隔多个审核人';
comment on column BT_APPROVE_AUDIT.NEXT_AUDIT_USERNM is '下一岗审批人名称';
comment on column BT_APPROVE_AUDIT.NEXT_AUDIT_BRANCHID is '下一岗审批人员所属机构ID';
comment on column BT_APPROVE_AUDIT.NEXT_AUDIT_BRANCHNM is '下一岗审批人所属机构名称';
comment on column BT_APPROVE_AUDIT.ALL_USERS is '所有审批人-姓名(登录账户)，使用,分隔多个审核人';
comment on column BT_APPROVE_AUDIT.LAST_UPDATE is '最后更新时间';

create index IDX_APPROVE_AUDIT_STATUS on BT_APPROVE_AUDIT (
   AUDIT_STATUS ASC
);

create index IDX_APPROVE_AUDIT_BUSID on BT_APPROVE_AUDIT (
   BUSI_ID ASC,
   PRODUCT_ID ASC
);

create index IDX_APPROVE_AUDIT_AUDITUSERBRH on BT_APPROVE_AUDIT (
   CUR_AUDIT_BRANCHID ASC,
   CUR_AUDIT_USER ASC
);

create index IDX_APPROVE_AUDIT_OPEN_USERBRH on BT_APPROVE_AUDIT (
   OPEN_USER_ID ASC,
   OPEN_BRANCH_ID ASC
);


drop table BT_APPROVE_PARAMTER cascade constraints;
create table BT_APPROVE_PARAMTER  (
   ID                   VARCHAR2(40)                    not null,
   APPROVE_AUDIT_ID     VARCHAR2(40)                    not null,
   PARAM_NAME           VARCHAR2(60)                    not null,
   PARAM_CODE           VARCHAR2(30)                    not null,
   PARAM_VALUE          VARCHAR2(80)                    not null,
   DATA_TYPE            VARCHAR2(10)                   default 'String' not null,
   constraint PK_BT_APPROVE_PARAMTER primary key (ID)
);
comment on table BT_APPROVE_PARAMTER is'审批受理请求参数表';
comment on column BT_APPROVE_PARAMTER.ID is '主键';
comment on column BT_APPROVE_PARAMTER.APPROVE_AUDIT_ID is '审批受理ID';
comment on column BT_APPROVE_PARAMTER.PARAM_NAME is '参数中文名称';
comment on column BT_APPROVE_PARAMTER.PARAM_CODE is '参数名称(区分大小写)';
comment on column BT_APPROVE_PARAMTER.PARAM_VALUE is '参数值';
comment on column BT_APPROVE_PARAMTER.DATA_TYPE is '参数数据类型：文本String、整数int、金额BigDecimal';

create index IDX_APPROVEROUTE_PARA on BT_APPROVE_PARAMTER (
   APPROVE_AUDIT_ID ASC
);

drop table BO_BUSI_TABLE_CONFIG cascade constraints;
create table BO_BUSI_TABLE_CONFIG  (
   ID                   VARCHAR2(40)                    not null,
   PRODUCT_ID           VARCHAR2(10)                    not null,
   BUSI_TABLE_NM        VARCHAR2(200)                   not null,
   BUSI_TABLE           VARCHAR2(30)                    not null,
   BUSI_STATUS_FIELD    VARCHAR2(30)                    not null,
   BUSI_ID_FIELD        VARCHAR2(30)                    not null,
   AUDIT_PASS_STATUS    VARCHAR2(10),
   AUDIT_REFUSE_STATUS  VARCHAR2(10),
   AUDIT_RUNNING_STATUS VARCHAR2(10),
   EXTEND_SERVICE       VARCHAR2(50),
   SUBMIT_NODE          VARCHAR2(5)                    default 'false',
   REJUST_NODE          VARCHAR2(5)                    default 'false',
   constraint PK_BO_BUSI_TABLE_CONFIG primary key (ID)
);

comment on table BO_BUSI_TABLE_CONFIG is '业务表字段配置表';
comment on column BO_BUSI_TABLE_CONFIG.ID is '主键';
comment on column BO_BUSI_TABLE_CONFIG.PRODUCT_ID is '产品ID';
comment on column BO_BUSI_TABLE_CONFIG.BUSI_TABLE_NM is '业务表中文名';
comment on column BO_BUSI_TABLE_CONFIG.BUSI_TABLE is '业务表名';
comment on column BO_BUSI_TABLE_CONFIG.BUSI_STATUS_FIELD is '业务表状态字段名称';
comment on column BO_BUSI_TABLE_CONFIG.BUSI_ID_FIELD is '业务表主键或外键字段名称';
comment on column BO_BUSI_TABLE_CONFIG.AUDIT_PASS_STATUS is '审批通过状态';
comment on column BO_BUSI_TABLE_CONFIG.AUDIT_REFUSE_STATUS is '审批拒绝状态'; 
comment on column BO_BUSI_TABLE_CONFIG.AUDIT_RUNNING_STATUS is '审批中状态';
comment on column BO_BUSI_TABLE_CONFIG.EXTEND_SERVICE is '扩展服务';
comment on column BO_BUSI_TABLE_CONFIG.SUBMIT_NODE is '是否可选择审批人-true是、false否';
comment on column BO_BUSI_TABLE_CONFIG.REJUST_NODE is '是否可选择驳回人-true是、false否';

create index IDX_BUSI_TAB_CONFIG_1 on BO_BUSI_TABLE_CONFIG (
   PRODUCT_ID ASC
);


drop table ROUTE_BRCH_PROD cascade constraints;
create table ROUTE_BRCH_PROD  (
   ID                   VARCHAR2(50)                    not null,
   ROUTE_ID             VARCHAR2(40),
   BRCH_ID              VARCHAR2(40),
   PROD_ID              VARCHAR2(40),
   constraint PK_ROUTE_BRCH_PROD primary key (ID)
);

comment on table ROUTE_BRCH_PROD is '机构产品对应表';
comment on column ROUTE_BRCH_PROD.ID is '主键ID';
comment on column ROUTE_BRCH_PROD.ROUTE_ID is '审核节点名称';
comment on column ROUTE_BRCH_PROD.BRCH_ID is '机构ID';
comment on column ROUTE_BRCH_PROD.PROD_ID is '产品ID';

drop table BO_QUEUE_DISPATCH_NODE cascade constraints;
CREATE TABLE
    BO_QUEUE_DISPATCH_NODE
    (
        ID VARCHAR2(36) NOT NULL,
        STATUS VARCHAR2(1) DEFAULT '0' NOT NULL,
        QUEUE_NAME VARCHAR2(200) NOT NULL,
        QUEUE_NODE VARCHAR2(30) NOT NULL,
        DEPT_ID VARCHAR2(36),
        PRODUCT_ID VARCHAR2(4),
        DEPT_NAME VARCHAR2(100),
        CREATE_USER_ID VARCHAR2(36),
        CREATE_USER_NAME VARCHAR2(40),
        CREATE_DATE DATE DEFAULT SYSDATE NOT NULL,
        DEL_FLAG VARCHAR2(1) DEFAULT 'N' NOT NULL,
        QUEUE_NODE_NAME VARCHAR2(200),
        CONSTRAINT BO_QUEUE_DISPATCH_NODE PRIMARY KEY (ID)
    );
COMMENT ON TABLE BO_QUEUE_DISPATCH_NODE IS '队列分发节点表';
COMMENT ON COLUMN BO_QUEUE_DISPATCH_NODE.ID IS '主键';
COMMENT ON COLUMN BO_QUEUE_DISPATCH_NODE.STATUS IS '状态：0新增、1启用、2停用';
COMMENT ON COLUMN BO_QUEUE_DISPATCH_NODE.QUEUE_NAME IS '队列名称';
COMMENT ON COLUMN BO_QUEUE_DISPATCH_NODE.QUEUE_NODE IS '队列名称';
COMMENT ON COLUMN BO_QUEUE_DISPATCH_NODE.DEPT_ID IS '创建机构ID';
COMMENT ON COLUMN BO_QUEUE_DISPATCH_NODE.PRODUCT_ID IS '产品ID';
COMMENT ON COLUMN BO_QUEUE_DISPATCH_NODE.DEPT_NAME IS '创建机构名称';
COMMENT ON COLUMN BO_QUEUE_DISPATCH_NODE.CREATE_USER_ID IS '创建用户ID';
COMMENT ON COLUMN BO_QUEUE_DISPATCH_NODE.CREATE_USER_NAME IS '创建用户名称';
COMMENT ON COLUMN BO_QUEUE_DISPATCH_NODE.CREATE_DATE IS '创建日期';
COMMENT ON COLUMN BO_QUEUE_DISPATCH_NODE.DEL_FLAG IS '逻辑删除标记-N未删除、D已删除';

drop table BO_ACPT_CHECK_MAINLIST cascade constraints;
CREATE TABLE BO_ACPT_CHECK_MAINLIST(
	ID           VARCHAR2(40) PRIMARY KEY NOT NULL,
	BANK_NO       VARCHAR2(12 ) NOT NULL,
	BANK_NAME       VARCHAR2(120) ,
	UPDATE_TIME      TIMESTAMP,
	CREATE_TIME      TIMESTAMP
	);
COMMENT ON COLUMN BO_ACPT_CHECK_MAINLIST.ID  IS '主键ID';
COMMENT ON COLUMN BO_ACPT_CHECK_MAINLIST.BANK_NO      IS '开户行行号';
COMMENT ON COLUMN BO_ACPT_CHECK_MAINLIST.BANK_NAME       IS '开户行名称';
COMMENT ON COLUMN BO_ACPT_CHECK_MAINLIST.UPDATE_TIME     IS '更新日期 ';
COMMENT ON COLUMN BO_ACPT_CHECK_MAINLIST.CREATE_TIME   IS '创建日期 ';


drop table BO_ACPT_CHECK_SUBLIST cascade constraints;
CREATE TABLE BO_ACPT_CHECK_SUBLIST(
	ID           VARCHAR2(40) PRIMARY KEY NOT NULL,
	ACCEPT_NAME     VARCHAR2(120 ) NOT NULL,
	ACCOUNT       VARCHAR2(40 ) NOT NULL,
	BANK_NO       VARCHAR2(12 ) NOT NULL,
	BANK_NAME       VARCHAR2(120) ,
	UPDATE_TIME      TIMESTAMP,
	CREATE_TIME      TIMESTAMP
	);
COMMENT ON COLUMN BO_ACPT_CHECK_SUBLIST.ID  IS '主键ID';
COMMENT ON COLUMN BO_ACPT_CHECK_SUBLIST.ACCEPT_NAME      IS '承认人名称 ';
COMMENT ON COLUMN BO_ACPT_CHECK_SUBLIST.ACCOUNT        IS '账号';
COMMENT ON COLUMN BO_ACPT_CHECK_SUBLIST.BANK_NO      IS '开户行行号';
COMMENT ON COLUMN BO_ACPT_CHECK_SUBLIST.BANK_NAME       IS '开户行名称';
COMMENT ON COLUMN BO_ACPT_CHECK_SUBLIST.UPDATE_TIME     IS '更新日期 ';
COMMENT ON COLUMN BO_ACPT_CHECK_SUBLIST.CREATE_TIME   IS '创建日期 ';


-- Create table 报表模板表
drop table R_REPORT_MODEL;
create table R_REPORT_MODEL
(
  ID          VARCHAR2(36) not null,
  REPORT_NAME VARCHAR2(300),
  BUSI_TYPE   VARCHAR2(30),
  UPLOAD_DATE DATE default sysdate,
  CREATE_DATE DATE default sysdate,
  FILE_NAME   VARCHAR2(30),
  FILE_PATH   VARCHAR2(50),
  TIME_MODEL  VARCHAR2(2),
  TIME_SELECT VARCHAR2(30),
  USER_ID     VARCHAR2(32),
  USER_NM     VARCHAR2(30),
  DEPT_ID     VARCHAR2(32),
  DEPT_NAME   VARCHAR2(30),
  STATUS      VARCHAR2(2),
  REMARK      VARCHAR2(200)
);

comment on table R_REPORT_MODEL is '智能化报表模板';
comment on column R_REPORT_MODEL.REPORT_NAME is '报表名称';
comment on column R_REPORT_MODEL.BUSI_TYPE is '业务类型';
comment on column R_REPORT_MODEL.UPLOAD_DATE is '模板上传时间';
comment on column R_REPORT_MODEL.CREATE_DATE is '模板生成时间';
comment on column R_REPORT_MODEL.FILE_NAME is '文件名称';
comment on column R_REPORT_MODEL.FILE_PATH is '文件路径';
comment on column R_REPORT_MODEL.TIME_MODEL is '时间模式';
comment on column R_REPORT_MODEL.TIME_SELECT is '时间选择';
comment on column R_REPORT_MODEL.USER_ID is '上传用户id';
comment on column R_REPORT_MODEL.USER_NM is '上传用户名称';
comment on column R_REPORT_MODEL.DEPT_ID is '上传机构id';
comment on column R_REPORT_MODEL.DEPT_NAME is '上传机构名称';
comment on column R_REPORT_MODEL.STATUS is '报表生成状态';
comment on column R_REPORT_MODEL.REMARK is '备注';
alter table R_REPORT_MODEL add constraint PK_R_REPORT_MODEL primary key (ID);

drop table BT_REPORT_FILE;
create table BT_REPORT_FILE
(
  ID           VARCHAR2(40) not null,
  TEMPLATE_ID  VARCHAR2(40),
  MEMBER_CODE  VARCHAR2(10),
  REPORT_SEQNO VARCHAR2(30),
  REPORT_NAME  VARCHAR2(260),
  FILE_NAME    VARCHAR2(260),
  FILE_PATH    VARCHAR2(150),
  QRY_CONDITON VARCHAR2(300),
  STATUS       VARCHAR2(2),
  TIME_MODEL   VARCHAR2(2),
  TIME_SELECT  VARCHAR2(30),
  CREATE_TIME  TIMESTAMP(6),
  FINISH_TIME  TIMESTAMP(6),
  USER_NM      VARCHAR2(80),
  USER_ID      VARCHAR2(40),
  DEPT_NAME    VARCHAR2(150),
  DEPT_ID      VARCHAR2(40)
);

comment on table BT_REPORT_FILE  is '报文生成文件存放表';
comment on column BT_REPORT_FILE.ID  is '主键';
comment on column BT_REPORT_FILE.TEMPLATE_ID is '通用模板ID';
comment on column BT_REPORT_FILE.MEMBER_CODE is '会员编码';
comment on column BT_REPORT_FILE.REPORT_SEQNO  is '报表文件生成序号-唯一标识一笔报表文件';
comment on column BT_REPORT_FILE.REPORT_NAME is '报表名称';
comment on column BT_REPORT_FILE.FILE_NAME is '文件名称';
comment on column BT_REPORT_FILE.FILE_PATH is '报表文件存放相对路径(含文件名)';
comment on column BT_REPORT_FILE.QRY_CONDITON is '查询条件';
comment on column BT_REPORT_FILE.STATUS is '状态:0未生成、1已生成、2生成失败';
comment on column BT_REPORT_FILE.CREATE_TIME is '创建时间';
comment on column BT_REPORT_FILE.FINISH_TIME is '报表生成时间';
comment on column BT_REPORT_FILE.USER_NM is '用户名称';
comment on column BT_REPORT_FILE.USER_ID is '用户ID';
comment on column BT_REPORT_FILE.DEPT_NAME is '机构名称';
comment on column BT_REPORT_FILE.DEPT_ID is '机构ID';

alter table BT_REPORT_FILE add constraint PK_BT_REPORT_FILE primary key (ID);
create index IDX_REPORT_CMP on BT_REPORT_FILE (USER_ID, DEPT_ID);
create index IDX_REPORT_SEQ on BT_REPORT_FILE (REPORT_SEQNO);

--保证金支取审批记录对象
	DROP TABLE PED_BAIL_TRANS;
	CREATE TABLE PED_BAIL_TRANS (
	  ID VARCHAR2(40) PRIMARY KEY  NOT NULL,
	  BPS_NO VARCHAR2(40),
	  CUST_NAME VARCHAR2(180),
	  CUSTOMER VARCHAR2(20),
	  TRAN_AMT NUMBER(20,2),
	  DR_ACCT_NO VARCHAR2(20),
	  DR_ACCT_NAME VARCHAR2(100),
	  CR_ACCT_NO VARCHAR2(20 ),
	  CR_ACCT_NAME VARCHAR2(100),
	  CREATE_DATE TIMESTAMP,
	  CREATE_TIME TIMESTAMP,
	  UPDATE_TIME TIMESTAMP,
	  USER_NO VARCHAR2(20),
	  USER_NAME VARCHAR2(50),
	  BRC_BLD VARCHAR2(20),
	  REMARK VARCHAR2(500),
	  STATUS VARCHAR2(6),
	  TRAN_TYPE VARCHAR2(2),
	  CRET_NO VARCHAR2(20),
	  AUDIT_REMARK VARCHAR2(500),
	  PLAN_STATUS VARCHAR2(10),
	  USAGE VARCHAR2(20),
	  brc_User VARCHAR2(10),
	  err_Log VARCHAR2(500)
	  
	);
	COMMENT ON COLUMN PED_BAIL_TRANS.ID  IS '主键ID';
    COMMENT ON COLUMN PED_BAIL_TRANS.BPS_NO     IS '票据池编号 ';
	COMMENT ON COLUMN PED_BAIL_TRANS.CUST_NAME     IS '客户名称 ';
	COMMENT ON COLUMN PED_BAIL_TRANS.CUSTOMER   IS '客户号';
	COMMENT ON COLUMN PED_BAIL_TRANS.TRAN_AMT      IS '交易金额';
	COMMENT ON COLUMN PED_BAIL_TRANS.DR_ACCT_NO        IS '借方账号（保证金账号）';
	COMMENT ON COLUMN PED_BAIL_TRANS.DR_ACCT_NAME      IS '借方账号名称（保证金账号名称）';
	COMMENT ON COLUMN PED_BAIL_TRANS.CR_ACCT_NO       IS '贷款账号（入账账号）';
	COMMENT ON COLUMN PED_BAIL_TRANS.CR_ACCT_NAME     IS '贷款账号名称（入账账号名称） ';
	COMMENT ON COLUMN PED_BAIL_TRANS.CREATE_DATE   IS '创建日期 ';
	COMMENT ON COLUMN PED_BAIL_TRANS.USER_NAME      IS '柜员';
	COMMENT ON COLUMN PED_BAIL_TRANS.BRC_BLD       IS '机构';
	COMMENT ON COLUMN PED_BAIL_TRANS.REMARK     IS '备注 ';
	COMMENT ON COLUMN PED_BAIL_TRANS.STATUS   IS '状态';
	COMMENT ON COLUMN PED_BAIL_TRANS.TRAN_TYPE   IS '交易类型';
	COMMENT ON COLUMN PED_BAIL_TRANS.CRET_NO   IS '凭证号';
	COMMENT ON COLUMN PED_BAIL_TRANS.CREATE_TIME   IS '创建时间';
	COMMENT ON COLUMN PED_BAIL_TRANS.UPDATE_TIME   IS '修改时间';
	COMMENT ON COLUMN PED_BAIL_TRANS.USER_NO   IS '客户经理编号';
	COMMENT ON COLUMN PED_BAIL_TRANS.AUDIT_REMARK   IS '审批意见';
	COMMENT ON COLUMN PED_BAIL_TRANS.PLAN_STATUS   IS '支付状态 ';
	COMMENT ON COLUMN PED_BAIL_TRANS.USAGE   IS '用途';
	COMMENT ON COLUMN PED_BAIL_TRANS.brc_User   IS '上传核心的柜员';
	COMMENT ON COLUMN PED_BAIL_TRANS.err_Log   IS '错误日志';


--工作任务移交实体
DROP TABLE T_TASK_TRANSFER;
CREATE TABLE T_TASK_TRANSFER (
  ID VARCHAR2(40) PRIMARY KEY  NOT NULL,
  TRANSFEROR_UID VARCHAR2(40),
  TRANSFEROR_UNAME VARCHAR2(80),
  TRANSFEROR_UCODE VARCHAR2(20),
  TRANSFEROR_UDEPT_ID VARCHAR2(40 ),
  TRANSFEROR_UDEPT_NAME VARCHAR2(150),
  TRANSFERED_UID VARCHAR2(40),
  TRANSFERED_UNAME VARCHAR2(80),
  TRANSFERED_UCODE VARCHAR2(20),
  TRANSFERED_UDEPT_ID VARCHAR2(40),
  TRANSFERED_UDEPT_NAME VARCHAR2(150),
  TRANSFER_STATUS VARCHAR2(10),
  TRANSFER_START_TIME date,
  TRANSFER_STOP_TIME date,
  TRANSFER_END_TIME date,
  CREATE_TIME date,
  TRANSFER_REMARK VARCHAR2(10)
);
COMMENT ON COLUMN T_TASK_TRANSFER.ID  IS '主键ID';
COMMENT ON COLUMN T_TASK_TRANSFER.TRANSFEROR_UID      IS '移交人用户ID';
COMMENT ON COLUMN T_TASK_TRANSFER.TRANSFEROR_UNAME        IS '移交人用户名';
COMMENT ON COLUMN T_TASK_TRANSFER.TRANSFEROR_UCODE      IS '移交人用户编号';
COMMENT ON COLUMN T_TASK_TRANSFER.TRANSFEROR_UDEPT_ID       IS '移交人机构ID';
COMMENT ON COLUMN T_TASK_TRANSFER.TRANSFEROR_UDEPT_NAME     IS '移交人机构名 ';
COMMENT ON COLUMN T_TASK_TRANSFER.TRANSFERED_UID   IS '被移交人用户ID ';
COMMENT ON COLUMN T_TASK_TRANSFER.TRANSFERED_UNAME      IS '被移交人用户名';
COMMENT ON COLUMN T_TASK_TRANSFER.TRANSFERED_UCODE       IS '被移交人用户编号';
COMMENT ON COLUMN T_TASK_TRANSFER.TRANSFERED_UDEPT_ID     IS '被移交人机构ID ';
COMMENT ON COLUMN T_TASK_TRANSFER.TRANSFERED_UDEPT_NAME   IS '被移交人机构名';
COMMENT ON COLUMN T_TASK_TRANSFER.TRANSFER_STATUS   IS '移交状态';
COMMENT ON COLUMN T_TASK_TRANSFER.TRANSFER_START_TIME     IS '移交起始时间 ';
COMMENT ON COLUMN T_TASK_TRANSFER.TRANSFER_STOP_TIME   IS '移交截止时间';
COMMENT ON COLUMN T_TASK_TRANSFER.TRANSFER_END_TIME   IS '移交手工终止时间';
COMMENT ON COLUMN T_TASK_TRANSFER.CREATE_TIME   IS '创建时间';
COMMENT ON COLUMN T_TASK_TRANSFER.TRANSFER_REMARK   IS '状态描述';


--任务移交角色明细实体
DROP TABLE T_TASK_TRANSFER_ROLE;
CREATE TABLE T_TASK_TRANSFER_ROLE (
  ID VARCHAR2(40) PRIMARY KEY  NOT NULL,
  TRANSFER_ID VARCHAR2(40),
  TRANSFERED_ROLE_ID VARCHAR2(80),
  TRANSFERED_ROLE_NAME VARCHAR2(20)
  
);
COMMENT ON COLUMN T_TASK_TRANSFER_ROLE.ID  IS '主键ID';
COMMENT ON COLUMN T_TASK_TRANSFER_ROLE.TRANSFER_ID      IS '工作任务移交表ID';
COMMENT ON COLUMN T_TASK_TRANSFER_ROLE.TRANSFERED_ROLE_ID        IS '移交角色ID';
COMMENT ON COLUMN T_TASK_TRANSFER_ROLE.TRANSFERED_ROLE_NAME      IS '移交角色名称';


--节假日表
DROP TABLE BO_HOLIDAY;
CREATE TABLE BO_HOLIDAY (
  PK_IX_BO_HOLIDAY_ID VARCHAR2(40) NOT NULL,
  S_IF_HOLIDAY INT,
  S_DAY VARCHAR2(40),
  D_DATE DATE
);

COMMENT ON COLUMN BO_HOLIDAY.PK_IX_BO_HOLIDAY_ID IS '主键';
COMMENT ON COLUMN BO_HOLIDAY.S_IF_HOLIDAY IS '是否节假日';
COMMENT ON COLUMN BO_HOLIDAY.S_DAY IS '星期几';
COMMENT ON COLUMN BO_HOLIDAY.D_DATE IS '日期';
COMMENT ON TABLE BO_HOLIDAY IS '节假日表';


--在线流贷支付计划支付记录
drop table PL_CRDT_PAY_LIST;
CREATE TABLE PL_CRDT_PAY_LIST(
	ID VARCHAR2(40) primary key NOT NULL,
	PAY_PLAN_ID VARCHAR2(40),
	SERIAL_NO VARCHAR2(40),
	LOAN_NO VARCHAR2(40),
	CONTRACT_NO VARCHAR2(40),
	ONLINE_CRDT_NO VARCHAR2(40),
	BPS_NO VARCHAR2(40),
	LOAN_ACCT_NO VARCHAR2(40),
	LOAN_ACCT_NAME VARCHAR2(150),
	DEDU_ACCT_NO VARCHAR2(20),
	DEDU_ACCT_NAME VARCHAR2(150),
	DEDU_BANK_CODE VARCHAR2(40),
	DEDU_BANK_NAME VARCHAR2(150),
	IS_LOCAL VARCHAR2(1),
	PAY_AMT NUMBER(20,2) default 0 NOT NULL,
	STATUS VARCHAR2(10) ,
	OPERATOR_TYPE VARCHAR2(10),
	TRANS_CHANEL VARCHAR2(5),
	USAGE VARCHAR2(120),
	POSTSCRIPT VARCHAR2(200),
	PAY_DESC VARCHAR2(1300),
	PAY_REQ_SER_NO VARCHAR2(40),
	PAY_ACCT_DATE date,
    PAY_RESP_SER_NO VARCHAR2(40),
    REPAY_FLOW_NO VARCHAR2(20),
	CREATE_DATE TIMESTAMP,
	UPDATE_TIME TIMESTAMP,
	task_Date TIMESTAMP
);
comment on table PED_ASSET_REGISTER_HIS is '在线流贷支付计划支付记录';
COMMENT ON COLUMN PL_CRDT_PAY_LIST.PAY_PLAN_ID    IS '对应支付计划表ID';
COMMENT ON COLUMN PL_CRDT_PAY_LIST.SERIAL_NO      IS '支付计划编号';
COMMENT ON COLUMN PL_CRDT_PAY_LIST.LOAN_NO        IS '借据编号';
COMMENT ON COLUMN PL_CRDT_PAY_LIST.CONTRACT_NO    IS '合同编号';
COMMENT ON COLUMN PL_CRDT_PAY_LIST.ONLINE_CRDT_NO IS '在线流贷协议编号';
COMMENT ON COLUMN PL_CRDT_PAY_LIST.BPS_NO         IS '票据池编号';
COMMENT ON COLUMN PL_CRDT_PAY_LIST.LOAN_ACCT_NO   IS '付款账号';
COMMENT ON COLUMN PL_CRDT_PAY_LIST.LOAN_ACCT_NAME IS '付款户名';
COMMENT ON COLUMN PL_CRDT_PAY_LIST.DEDU_ACCT_NO   IS '收款人名称';
COMMENT ON COLUMN PL_CRDT_PAY_LIST.DEDU_ACCT_NAME IS '收款人账号';
COMMENT ON COLUMN PL_CRDT_PAY_LIST.DEDU_BANK_CODE IS '收款人开户行行号';
COMMENT ON COLUMN PL_CRDT_PAY_LIST.DEDU_BANK_NAME IS '收款人开户行名称';
COMMENT ON COLUMN PL_CRDT_PAY_LIST.IS_LOCAL       IS '是否跨行 0-否 1-是';
COMMENT ON COLUMN PL_CRDT_PAY_LIST.PAY_AMT        IS '本次支付金额';
COMMENT ON COLUMN PL_CRDT_PAY_LIST.STATUS         IS '状态 00-初始化 01-支付成功 02-支付失败';
COMMENT ON COLUMN PL_CRDT_PAY_LIST.OPERATOR_TYPE  IS '操作类型 0-付款交易  1-还款交易 ';
COMMENT ON COLUMN PL_CRDT_PAY_LIST.TRANS_CHANEL   IS '渠道 EBK-网银 BPS-票据池 ';
COMMENT ON COLUMN PL_CRDT_PAY_LIST.USAGE          IS '用途 网银码值';
COMMENT ON COLUMN PL_CRDT_PAY_LIST.POSTSCRIPT     IS '附言';
COMMENT ON COLUMN PL_CRDT_PAY_LIST.PAY_DESC       IS '支付结果说明';
COMMENT ON COLUMN PL_CRDT_PAY_LIST.PAY_REQ_SER_NO IS '支付申请流水号';
COMMENT ON COLUMN PL_CRDT_PAY_LIST.PAY_ACCT_DATE  IS '账务日期，即支付申请日期，用于查证支付记录';
COMMENT ON COLUMN PL_CRDT_PAY_LIST.PAY_RESP_SER_NO IS '支付结果流水号';
COMMENT ON COLUMN PL_CRDT_PAY_LIST.REPAY_FLOW_NO  IS '贷款归还/提前还款流水号--用来标记同一个批次的还款申请';
COMMENT ON COLUMN PL_CRDT_PAY_LIST.CREATE_DATE    IS '创建时间';
COMMENT ON COLUMN PL_CRDT_PAY_LIST.UPDATE_TIME    IS '最近修改时间';
COMMENT ON COLUMN PL_CRDT_PAY_LIST.task_Date    IS '调度任务操作时间';


--核心放款接口产品代码字段映射表
DROP TABLE PED_LOAN_PRODUCT;
CREATE TABLE PED_LOAN_PRODUCT(
	ID VARCHAR2(40) PRIMARY KEY NOT NULL,
	LOAN_PRODUCT_NO VARCHAR2(10),
	LOAN_PRODUCT_NAME VARCHAR2(150),
	DEDUCTION_PRODUCT_NO VARCHAR2(10),
	DEDUCTION_PRODUCT_NAME VARCHAR2(150),
	SUBJECT_NO VARCHAR2(10)

);
COMMENT ON TABLE  PED_LOAN_PRODUCT IS '核心放款接口产品代码字段校验表';
COMMENT ON COLUMN PED_LOAN_PRODUCT.LOAN_PRODUCT_NO    IS '放款产品代码';
COMMENT ON COLUMN PED_LOAN_PRODUCT.LOAN_PRODUCT_NAME      IS '放款产品名称';
COMMENT ON COLUMN PED_LOAN_PRODUCT.DEDUCTION_PRODUCT_NO        IS '贷款产品代码';
COMMENT ON COLUMN PED_LOAN_PRODUCT.DEDUCTION_PRODUCT_NAME    IS '贷款产品代码名称';
COMMENT ON COLUMN PED_LOAN_PRODUCT.SUBJECT_NO    IS '科目号';


--票据池保证金账号变更历史表
DROP TABLE PED_MARGIN_ACCT_CHANGE_HIST;
CREATE TABLE PED_MARGIN_ACCT_CHANGE_HIST  (
   ID                   VARCHAR2(40)                    NOT NULL,
   BPS_NO         VARCHAR2(40)                    NOT NULL,
   OLD_ACCT_NO    VARCHAR2(20),
   NEW_ACCT_NO    VARCHAR2(20),
   CREATE_DATE TIMESTAMP,
   CONSTRAINT PK_PED_MARGIN_ACCT_CHANGE_HIST PRIMARY KEY (ID)
);

COMMENT ON TABLE PED_MARGIN_ACCT_CHANGE_HIST IS '票据池保证金账号变更历史表';
COMMENT ON COLUMN PED_MARGIN_ACCT_CHANGE_HIST.ID IS '主键ID';
COMMENT ON COLUMN PED_MARGIN_ACCT_CHANGE_HIST.BPS_NO IS '票据池协议编号';
COMMENT ON COLUMN PED_MARGIN_ACCT_CHANGE_HIST.OLD_ACCT_NO IS '原保证金账号';
COMMENT ON COLUMN PED_MARGIN_ACCT_CHANGE_HIST.NEW_ACCT_NO IS '新保证金账号';
COMMENT ON COLUMN PED_MARGIN_ACCT_CHANGE_HIST.CREATE_DATE IS '创建时间';



--票交所机构表，日终同步电票系统数据
drop table BO_CPES_BRANCH ;
CREATE TABLE BO_CPES_BRANCH
(
  ID                      NUMBER(16) NOT NULL,
  MEMBER_ID               VARCHAR2(6),
  BRCH_CODE               VARCHAR2(9),
  BRCH_NUM                VARCHAR2(21),
  BRCH_TYPE               VARCHAR2(1),
  TRANS_BRCH_CLASS        VARCHAR2(3),
  BRCH_FULL_NAME_ZH       VARCHAR2(255),
  BRCH_FULL_NAME_EN       VARCHAR2(255),
  BRCH_SHORT_NAME_ZH      VARCHAR2(200),
  BRCH_SHORT_NAME_EN      VARCHAR2(200),
  SOC_CODE                VARCHAR2(18),
  TRANS_PROVINCE_CODE     VARCHAR2(2),
  TRANS_CORP_CLASS        VARCHAR2(4),
  PROD_BEGIN_DT           date,
  PROD_END_DT             date,
  BRCH_STATUS             VARCHAR2(4),
  TRANS_ACCT_STATUS       VARCHAR2(4),
  REG_ACCT_STATUS         VARCHAR2(4),
  TRANS_CORP_REG          VARCHAR2(180),
  TRANS_REGIST_CAPITAL    NUMBER(20,2),
  ADDRESS                 VARCHAR2(500),
  LINK_MAN                VARCHAR2(100),
  PHONE                   VARCHAR2(100),
  CUST_FAX                VARCHAR2(20),
  POST_CODE               VARCHAR2(6),
  TRANS_BRCH_BANK_NO      VARCHAR2(12),
  BRCH_BANK_NAME          VARCHAR2(255),
  E_AGENT_BANK_NO         VARCHAR2(12),
  ECDS_ACCT_NO            VARCHAR2(35),
  CPES_BRCH_REMARK        VARCHAR2(1000),
  OPER_TM                 NUMBER(6),
  BR_LV                   VARCHAR2(1),
  OPER_TYPE               VARCHAR2(4),
  BRCH_INTERNAL_ACCT_NO   VARCHAR2(35),
  BRCH_INTERNAL_ACCT_NAME VARCHAR2(255),
  MEMBER_TX_ACCT_NO       VARCHAR2(35),
  MEMBER_REG_ACCT_NO      VARCHAR2(35),
  CPES_ACCT_NO            VARCHAR2(35),
  OUT_ACCT_BANK_NO        VARCHAR2(12),
  OUT_ACCT_NO             VARCHAR2(35),
  OUT_ACCT_NAME           VARCHAR2(255),
  FIRST_ADMIN_ID          VARCHAR2(10),
  FIRST_ADMIN_NAME        VARCHAR2(200),
  FIRST_ADMIN_STATUS      VARCHAR2(4),
  SECOND_ADMIN_ID         VARCHAR2(10),
  SECOND_ADMIN_NAME       VARCHAR2(200),
  SECOND_ADMIN_STATUS     VARCHAR2(4),
  CONTINUE_BRCH_CODE      VARCHAR2(9),
  CREATE_TIME             TIMESTAMP,
  UPDATE_TIME             TIMESTAMP,
  CUST_NO                 VARCHAR2(50),
  CUSTOMER_NAME           VARCHAR2(255),
  CERTIFY_TYPE            VARCHAR2(20),
  CERTIFY_NO              VARCHAR2(100),
  IS_CENTER_BRCH          CHAR(1),
  CONTINUE_BRCH_NAME      VARCHAR2(255),
  RESERVE1                VARCHAR2(250),
  RESERVE2                VARCHAR2(250),
  RESERVE3                VARCHAR2(250)
)
;
COMMENT ON TABLE BO_CPES_BRANCH IS 'CPES机构表';
COMMENT ON COLUMN BO_CPES_BRANCH.ID IS '主键ID';
COMMENT ON COLUMN BO_CPES_BRANCH.MEMBER_ID IS '会员代码';
COMMENT ON COLUMN BO_CPES_BRANCH.BRCH_CODE IS '机构代码';
COMMENT ON COLUMN BO_CPES_BRANCH.BRCH_NUM IS '机构编码';
COMMENT ON COLUMN BO_CPES_BRANCH.BRCH_TYPE IS '机构类别编码';
COMMENT ON COLUMN BO_CPES_BRANCH.TRANS_BRCH_CLASS IS '交易机构类型代码';
COMMENT ON COLUMN BO_CPES_BRANCH.BRCH_FULL_NAME_ZH IS '机构全称中文';
COMMENT ON COLUMN BO_CPES_BRANCH.BRCH_FULL_NAME_EN IS '机构全称英文';
COMMENT ON COLUMN BO_CPES_BRANCH.BRCH_SHORT_NAME_ZH IS '机构简称中文';
COMMENT ON COLUMN BO_CPES_BRANCH.BRCH_SHORT_NAME_EN IS '机构简称英文';
COMMENT ON COLUMN BO_CPES_BRANCH.SOC_CODE IS '统一社会信用代码';
COMMENT ON COLUMN BO_CPES_BRANCH.TRANS_PROVINCE_CODE IS '交易机构省份代码';
COMMENT ON COLUMN BO_CPES_BRANCH.TRANS_CORP_CLASS IS '交易机构法人级别代码';
COMMENT ON COLUMN BO_CPES_BRANCH.PROD_BEGIN_DT IS '产品开始日期';
COMMENT ON COLUMN BO_CPES_BRANCH.PROD_END_DT IS '产品结束日期';
COMMENT ON COLUMN BO_CPES_BRANCH.BRCH_STATUS IS '机构状态';
COMMENT ON COLUMN BO_CPES_BRANCH.TRANS_ACCT_STATUS IS '交易账户状态';
COMMENT ON COLUMN BO_CPES_BRANCH.REG_ACCT_STATUS IS '托管账户状态';
COMMENT ON COLUMN BO_CPES_BRANCH.TRANS_CORP_REG IS '交易机构法定代表人或负责人';
COMMENT ON COLUMN BO_CPES_BRANCH.TRANS_REGIST_CAPITAL IS '交易机构注册资本';
COMMENT ON COLUMN BO_CPES_BRANCH.ADDRESS IS '地址';
COMMENT ON COLUMN BO_CPES_BRANCH.LINK_MAN IS '联系人';
COMMENT ON COLUMN BO_CPES_BRANCH.PHONE IS '联系电话';
COMMENT ON COLUMN BO_CPES_BRANCH.CUST_FAX IS '传真';
COMMENT ON COLUMN BO_CPES_BRANCH.POST_CODE IS '邮编';
COMMENT ON COLUMN BO_CPES_BRANCH.TRANS_BRCH_BANK_NO IS '交易机构大额行号';
COMMENT ON COLUMN BO_CPES_BRANCH.BRCH_BANK_NAME IS '机构大额行名';
COMMENT ON COLUMN BO_CPES_BRANCH.E_AGENT_BANK_NO IS '电票代理大额行号';
COMMENT ON COLUMN BO_CPES_BRANCH.ECDS_ACCT_NO IS '电票代理账号';
COMMENT ON COLUMN BO_CPES_BRANCH.CPES_BRCH_REMARK IS '票交所机构备注';
COMMENT ON COLUMN BO_CPES_BRANCH.OPER_TM IS '操作时间';
COMMENT ON COLUMN BO_CPES_BRANCH.BR_LV IS '层级';
COMMENT ON COLUMN BO_CPES_BRANCH.OPER_TYPE IS '操作类型';
COMMENT ON COLUMN BO_CPES_BRANCH.BRCH_INTERNAL_ACCT_NO IS '机构内部账户账号';
COMMENT ON COLUMN BO_CPES_BRANCH.BRCH_INTERNAL_ACCT_NAME IS '机构内部账户名称';
COMMENT ON COLUMN BO_CPES_BRANCH.MEMBER_TX_ACCT_NO IS '会员交易账号';
COMMENT ON COLUMN BO_CPES_BRANCH.MEMBER_REG_ACCT_NO IS '会员托管账号';
COMMENT ON COLUMN BO_CPES_BRANCH.CPES_ACCT_NO IS '票交所资金账户账号';
COMMENT ON COLUMN BO_CPES_BRANCH.OUT_ACCT_BANK_NO IS '出金账户开户行大额支付系统行号';
COMMENT ON COLUMN BO_CPES_BRANCH.OUT_ACCT_NO IS '出金账户账号';
COMMENT ON COLUMN BO_CPES_BRANCH.OUT_ACCT_NAME IS '出金账户名称';
COMMENT ON COLUMN BO_CPES_BRANCH.FIRST_ADMIN_ID  IS '机构管理员1用户ID';
COMMENT ON COLUMN BO_CPES_BRANCH.FIRST_ADMIN_NAME  IS '机构管理员1用户姓名';
COMMENT ON COLUMN BO_CPES_BRANCH.FIRST_ADMIN_STATUS  IS '机构管理员1用户状态';
COMMENT ON COLUMN BO_CPES_BRANCH.SECOND_ADMIN_ID  IS '机构管理员2用户ID';
COMMENT ON COLUMN BO_CPES_BRANCH.SECOND_ADMIN_NAME  IS '机构管理员2用户ID';
COMMENT ON COLUMN BO_CPES_BRANCH.SECOND_ADMIN_STATUS  IS '机构管理员2用户状态';
COMMENT ON COLUMN BO_CPES_BRANCH.CONTINUE_BRCH_CODE  IS '承接机构代码';
COMMENT ON COLUMN BO_CPES_BRANCH.CREATE_TIME  IS '创建时间';
COMMENT ON COLUMN BO_CPES_BRANCH.UPDATE_TIME  IS '修改时间';
COMMENT ON COLUMN BO_CPES_BRANCH.CUST_NO  IS '客户号';
COMMENT ON COLUMN BO_CPES_BRANCH.CUSTOMER_NAME  IS '同业客户名称';
COMMENT ON COLUMN BO_CPES_BRANCH.CERTIFY_TYPE  IS '证件类型';
COMMENT ON COLUMN BO_CPES_BRANCH.CERTIFY_NO IS '证件号码';
COMMENT ON COLUMN BO_CPES_BRANCH.IS_CENTER_BRCH  IS '是否总行';
COMMENT ON COLUMN BO_CPES_BRANCH.CONTINUE_BRCH_NAME  IS '承接机构全称';
COMMENT ON COLUMN BO_CPES_BRANCH.RESERVE1  IS '保留字段1';
COMMENT ON COLUMN BO_CPES_BRANCH.RESERVE2  IS '保留字段2';
COMMENT ON COLUMN BO_CPES_BRANCH.RESERVE3  IS '保留字段3';
ALTER TABLE BO_CPES_BRANCH
ADD CONSTRAINT PK_BO_CPES_BRANCH PRIMARY KEY (ID);
CREATE INDEX IDX_BO_CPES_BRANCH_1 ON BO_CPES_BRANCH (TRANS_BRCH_BANK_NO);
CREATE INDEX IDX_BO_CPES_BRANCH_2 ON BO_CPES_BRANCH (SOC_CODE);
CREATE INDEX IDX_BO_CPES_BRANCH_3 ON BO_CPES_BRANCH (BRCH_CODE);
CREATE INDEX IDX_BO_CPES_BRANCH_4 ON BO_CPES_BRANCH (MEMBER_ID);

--票交所会员表，日终同步电票系统数据
drop table BO_CPES_MEMBER ;
CREATE TABLE BO_CPES_MEMBER
(
  ID                NUMBER(16) NOT NULL,
  MEMBER_ID         VARCHAR2(6),
  MEMBER_TYPE_CODE  VARCHAR2(4),
  MEMBER_NAME       VARCHAR2(255),
  MEMBER_STATUS     VARCHAR2(4),
  MEMBER_BANK_NO    VARCHAR2(12),
  CLEAR_MODE        VARCHAR2(6),
  OPER_DT           date,
  IS_CLEAR_CHECK    CHAR(1),
  IS_PLATFORM       CHAR(1),
  CERT_DN           VARCHAR2(300),
  CERT_SN           VARCHAR2(300),
  LAST_CERT_DN      VARCHAR2(300),
  MEMBER_SYS_STATUS VARCHAR2(4),
  CUST_NO           VARCHAR2(50),
  SETTLE_CONFIRM    VARCHAR2(10),
  CREATE_TIME       TIMESTAMP,
  UPDATE_TIME       TIMESTAMP
)
;
COMMENT ON TABLE BO_CPES_MEMBER  IS 'CPES会员表';
COMMENT ON COLUMN BO_CPES_MEMBER.ID  IS '主键ID';
COMMENT ON COLUMN BO_CPES_MEMBER.MEMBER_ID  IS '会员代码';
COMMENT ON COLUMN BO_CPES_MEMBER.MEMBER_TYPE_CODE IS '会员类别代码';
COMMENT ON COLUMN BO_CPES_MEMBER.MEMBER_NAME  IS '会员名称';
COMMENT ON COLUMN BO_CPES_MEMBER.MEMBER_STATUS  IS '会员状态';
COMMENT ON COLUMN BO_CPES_MEMBER.MEMBER_BANK_NO  IS '会员大额行号';
COMMENT ON COLUMN BO_CPES_MEMBER.CLEAR_MODE IS '清算模式';
COMMENT ON COLUMN BO_CPES_MEMBER.OPER_DT  IS '操作日期';
COMMENT ON COLUMN BO_CPES_MEMBER.IS_CLEAR_CHECK IS '是否开通结算确认';
COMMENT ON COLUMN BO_CPES_MEMBER.IS_PLATFORM  IS '是否平台内';
COMMENT ON COLUMN BO_CPES_MEMBER.CERT_DN  IS '证书DN';
COMMENT ON COLUMN BO_CPES_MEMBER.CERT_SN IS '证书SN';
COMMENT ON COLUMN BO_CPES_MEMBER.LAST_CERT_DN  IS '上一个DN';
COMMENT ON COLUMN BO_CPES_MEMBER.MEMBER_SYS_STATUS  IS '会员故障状态';
COMMENT ON COLUMN BO_CPES_MEMBER.CUST_NO IS '客户号';
COMMENT ON COLUMN BO_CPES_MEMBER.SETTLE_CONFIRM IS '财务公司ECDS线上清算权限';
COMMENT ON COLUMN BO_CPES_MEMBER.CREATE_TIME  IS '创建时间';
COMMENT ON COLUMN BO_CPES_MEMBER.UPDATE_TIME IS '修改时间';
ALTER TABLE BO_CPES_MEMBER
ADD CONSTRAINT PK_BO_CPES_MEMBER PRIMARY KEY (ID);
CREATE INDEX IDX_BO_CPES_MEMBER_1 ON BO_CPES_MEMBER (MEMBER_ID);


--MIS系统承兑行高低风险会员信息表
drop table MIS_BANK_MEMBER;
CREATE TABLE MIS_BANK_MEMBER
(
  ID VARCHAR2(40) PRIMARY KEY NOT NULL,
  SERIALNO     VARCHAR2(32) NOT NULL,
  MEMBER_ID    VARCHAR2(40) NOT NULL,
  BANKNAME     VARCHAR2(200),
  BANKNO       VARCHAR2(100),
  LOWFLAG      CHAR(1) NOT NULL,
  STATUS       CHAR(1) NOT NULL,
  CREATETIME   TIMESTAMP
);

COMMENT ON TABLE MIS_BANK_MEMBER IS '承兑行高低风险会员表';
COMMENT ON COLUMN MIS_BANK_MEMBER.ID IS '主键ID';
COMMENT ON COLUMN MIS_BANK_MEMBER.SERIALNO IS '批次流水号';
COMMENT ON COLUMN MIS_BANK_MEMBER.MEMBER_ID IS '会员代码';
COMMENT ON COLUMN MIS_BANK_MEMBER.BANKNAME IS '会员名称';
COMMENT ON COLUMN MIS_BANK_MEMBER.BANKNO IS '支付行号';
COMMENT ON COLUMN MIS_BANK_MEMBER.LOWFLAG IS '是否低风险银行  Y 是';
COMMENT ON COLUMN MIS_BANK_MEMBER.STATUS IS '是否有效  Y 有效';
COMMENT ON COLUMN MIS_BANK_MEMBER.CREATETIME IS '创建时间（同步数据的日期）';

--承兑行高低风险会员信息表（票据池同步MIS数据表）
drop table BO_BANK_MEMBER ;
CREATE TABLE BO_BANK_MEMBER
(
  ID VARCHAR2(40) PRIMARY KEY NOT NULL,
  SERIALNO     VARCHAR2(32) NOT NULL,
  MEMBER_ID    VARCHAR2(40) NOT NULL,
  BANKNAME     VARCHAR2(200),
  BANKNO       VARCHAR2(100),
  LOWFLAG      CHAR(1) NOT NULL,
  STATUS       CHAR(1) NOT NULL,
  CREATETIME   TIMESTAMP,
  UPDATETIME   TIMESTAMP
);

COMMENT ON TABLE BO_BANK_MEMBER IS '承兑行高低风险会员信息表（票据池同步MIS数据表）';
COMMENT ON COLUMN BO_BANK_MEMBER.ID IS '主键ID';
COMMENT ON COLUMN BO_BANK_MEMBER.SERIALNO IS '批次流水号';
COMMENT ON COLUMN BO_BANK_MEMBER.MEMBER_ID IS '会员代码';
COMMENT ON COLUMN BO_BANK_MEMBER.BANKNAME IS '会员名称';
COMMENT ON COLUMN BO_BANK_MEMBER.BANKNO IS '支付行号';
COMMENT ON COLUMN BO_BANK_MEMBER.LOWFLAG IS '是否低风险银行  Y 是';
COMMENT ON COLUMN BO_BANK_MEMBER.STATUS IS '是否有效  Y 有效';
COMMENT ON COLUMN BO_BANK_MEMBER.CREATETIME IS '创建时间';
COMMENT ON COLUMN BO_BANK_MEMBER.UPDATETIME IS '更新时间';



--商票及财票保贴信息映射表
drop table BO_GUARANT_DISC_MAPPING ;
CREATE TABLE BO_GUARANT_DISC_MAPPING
(
  ID VARCHAR2(40) PRIMARY KEY NOT NULL,
  acceptor     VARCHAR2(180) ,
  ACPT_BANK_CODE    VARCHAR2(12) ,
  ACPT_BANK_ANME     VARCHAR2(180),
  ACPT_ACCT_NO       VARCHAR2(20),
  Guarant_disc_name      VARCHAR2(180),
  Guarant_disc_no      VARCHAR2(12),
  USER_NO VARCHAR2(12),
  USER_NAME VARCHAR2(180) ,
  BRANCH_NO VARCHAR2(12),
  BRANCH_NAME VARCHAR2(180) ,
  CHECK_TYPE VARCHAR2(1),
  STATUs VARCHAR2(1),
  audit_status VARCHAR2(5),
  CREATETIME   TIMESTAMP,
  UPDATETIME   TIMESTAMP,
  DEL_FLAG    VARCHAR2(1) default 'N' not null
);

COMMENT ON TABLE BO_GUARANT_DISC_MAPPING IS '商票及财票保贴信息映射表';
COMMENT ON COLUMN BO_GUARANT_DISC_MAPPING.ID IS '主键ID';
COMMENT ON COLUMN BO_GUARANT_DISC_MAPPING.acceptor IS '承兑人名称';
COMMENT ON COLUMN BO_GUARANT_DISC_MAPPING.ACPT_BANK_CODE IS '承兑行行号（承兑人开户行行号）';
COMMENT ON COLUMN BO_GUARANT_DISC_MAPPING.ACPT_BANK_ANME IS '承兑人名称（承兑人开户行行名）';
COMMENT ON COLUMN BO_GUARANT_DISC_MAPPING.ACPT_ACCT_NO IS '承兑人账号';
COMMENT ON COLUMN BO_GUARANT_DISC_MAPPING.Guarant_disc_name IS '保贴人名称';
COMMENT ON COLUMN BO_GUARANT_DISC_MAPPING.Guarant_disc_no IS '保贴编号';
COMMENT ON COLUMN BO_GUARANT_DISC_MAPPING.USER_NO IS '柜员编号';
COMMENT ON COLUMN BO_GUARANT_DISC_MAPPING.USER_NAME IS '柜员名称';
COMMENT ON COLUMN BO_GUARANT_DISC_MAPPING.BRANCH_NO IS '机构号';
COMMENT ON COLUMN BO_GUARANT_DISC_MAPPING.BRANCH_NAME IS '机构名称';
COMMENT ON COLUMN BO_GUARANT_DISC_MAPPING.CHECK_TYPE IS '校验类型  1-财票 2-商票';
COMMENT ON COLUMN BO_GUARANT_DISC_MAPPING.STATUs IS '状态 0-初始数据 1-生效';
COMMENT ON COLUMN BO_GUARANT_DISC_MAPPING.audit_status IS '审批状态';
COMMENT ON COLUMN BO_GUARANT_DISC_MAPPING.CREATETIME IS '创建时间';
COMMENT ON COLUMN BO_GUARANT_DISC_MAPPING.UPDATETIME IS '更新时间';
COMMENT ON COLUMN BO_GUARANT_DISC_MAPPING.DEL_FLAG IS '逻辑删除标记-N未删除、D已删除';


-- 银承批次记录表
drop table PL_ONLINE_ACPT_BATCH_UPDATE ;
CREATE TABLE PL_ONLINE_ACPT_BATCH_UPDATE
(
  ID VARCHAR2(40) PRIMARY KEY NOT NULL,
  BATCH_ID     VARCHAR2(40) ,
  count    int  default 0,
  succ_Count     int  default 0,
  fail_Count      int  default 0,
  ids      VARCHAR2(3900)
);

COMMENT ON TABLE PL_ONLINE_ACPT_BATCH_UPDATE IS '银承批次记录表';
COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH_UPDATE.ID IS '主键ID';
COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH_UPDATE.BATCH_ID IS '批次id';
COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH_UPDATE.count IS '银承批次下明细处理完成的条数';
COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH_UPDATE.succ_Count IS '银承批次下明细签收处理完成的条数';
COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH_UPDATE.fail_Count IS '银承批次下明未用退回细处理完成的条数';
COMMENT ON COLUMN PL_ONLINE_ACPT_BATCH_UPDATE.ids IS '记录未用退回的明细id';

-- =======在线贴现=============================================================================================
-- 票据审价信息表
drop table t_bill_review_price_info;
create table t_bill_review_price_info(
	id 				varchar2(50) not null,
    batch_no		varchar2(50),
    tx_type			varchar2(10),
    tx_pattern		varchar2(10),
    cust_no			varchar2(50),
    cust_name		varchar2(200),
    online_no		varchar2(50),
    apply_state		varchar2(5),
    apply_date		varchar2(10),
    due_date		varchar2(10),
    worker_name		varchar2(50),
    worker_no		varchar2(20),
    worker_branch	varchar2(50),
    approve_branch_name varchar2(50),
    approve_branch_no   varchar2(50),
    approve_date        varchar2(10),
    approve_branch_type varchar2(20),
    lastUpdateTime	date,
    firstInsertTime date
);

comment on column t_bill_review_price_info.id is 'ID';
comment on column t_bill_review_price_info.batch_no is '贴现定价审批编号';
comment on column t_bill_review_price_info.tx_type is '贴现类型';
comment on column t_bill_review_price_info.tx_pattern is '模式';
comment on column t_bill_review_price_info.cust_no is '核心客户号';
comment on column t_bill_review_price_info.cust_name is '客户名称';
comment on column t_bill_review_price_info.online_no is '贴现协议号';
comment on column t_bill_review_price_info.apply_state is '状态 新建|审批中|待发送|已生效';
comment on column t_bill_review_price_info.apply_date is '申请日期';
comment on column t_bill_review_price_info.worker_name is '经办人';
comment on column t_bill_review_price_info.worker_no is '经办人工号';
comment on column t_bill_review_price_info.worker_branch is '经办机构';
comment on column t_bill_review_price_info.approve_branch_name is '审批机构名称';
comment on column t_bill_review_price_info.approve_branch_no is '审批机构号';
comment on column t_bill_review_price_info.approve_branch_type is '审批机构层级';
comment on column t_bill_review_price_info.approve_date is '审批时间';
comment on column t_bill_review_price_info.lastUpdateTime is '最近更新时间';
comment on column t_bill_review_price_info.firstInsertTime is '首次插入时间';

create or replace trigger tig_t_bill_review_price_info
before insert or update on t_bill_review_price_info for each row
begin
    IF INSERTING THEN  
        :NEW.firstInsertTime := SYSDATE;
    ELSIF UPDATING then 
        :NEW.lastUpdateTime := SYSDATE;
    END IF;      
end;

-- 额度调减信息记录表
drop table t_review_price_reduce_info;
create table t_review_price_reduce_info(
	id 			varchar2(50) not null,
	tx_type     varchar2(10),		--	01 直贴 02 直转通 03 再贴  04 额度1 05 额度2
	batch_no     varchar2(50),		--	批次号
	bill_no		varchar2(50),		--	票据号	
	bank_type    varchar2(10),		--	银行类型
	apply_tx_rate  number(4,2),		--  申请贴现利率
	apply_term	varchar2(20),		--	申请期限
	approve_Amt	number(10,2),		-- 	审批额度
	current_amt number(10,2),		--	当前额度
	used_amt    number(10,2),		--  已贴现额度
	aviable_amt number(10,2),		--  未贴现额度
	reduce_amt  number(10,2),		--	已调减额度
	worker_no		varchar2(20),
    worker_name	varchar2(50),
    total_reduce_amt number(10,2),		--	累计调减额度
	lastUpdateTime	date,
    firstInsertTime date
);

comment on column t_review_price_reduce_info.id is 'ID';
comment on column t_review_price_reduce_info.batch_no is '贴现定价审批编号';
comment on column t_review_price_reduce_info.bill_no is '票据号';
comment on column t_review_price_reduce_info.tx_type is '贴现类型';
comment on column t_review_price_reduce_info.bank_type is '承兑行类别';
comment on column t_review_price_reduce_info.apply_tx_rate is '申请贴现利率';
comment on column t_review_price_reduce_info.apply_term is '申请期限';
comment on column t_review_price_reduce_info.approve_Amt is '审批额度';
comment on column t_review_price_reduce_info.current_amt is '当前额度';
comment on column t_review_price_reduce_info.used_amt is '已贴现额度';
comment on column t_review_price_reduce_info.aviable_amt is '未贴现额度';
comment on column t_review_price_reduce_info.reduce_amt is '已调减额度';
comment on column t_review_price_reduce_info.total_reduce_amt is '累计调减额度';
comment on column t_review_price_reduce_info.worker_name is '经办人';
comment on column t_review_price_reduce_info.worker_no is '经办人工号';
comment on column t_review_price_reduce_info.lastUpdateTime is '最近更新时间';
comment on column t_review_price_reduce_info.firstInsertTime is '首次插入时间';


create or replace trigger tig_t_review_price_reduce_info
before insert or update on t_review_price_reduce_info for each row
begin
    IF INSERTING THEN  
        :NEW.firstInsertTime := SYSDATE;
    ELSIF UPDATING then 
        :NEW.lastUpdateTime := SYSDATE;
    END IF;      
end;

-- 票据审价信息详情表
drop table t_bill_review_price_detail;
create table t_bill_review_price_detail(
	id 					varchar2(50) not null,	
    batch_no			varchar2(50),	-- 贴现定价审批编号
    apply_branch		varchar2(20),	-- 申请单位
    apply_date			varchar2(10),	-- 申请日期
    cust_Manager		varchar2(50),	-- 客户经理
    emp_no				varchar2(20),	-- 员工编号
    telPhone			varchar2(11),	-- 手机
    landline			varchar2(11),	-- 座机
    cust_name			varchar2(200),	-- 客户名称
    cust_no				varchar2(50),   -- 核心客户号
    mis_cust_no			varchar2(50),	-- mis客户号
    online_no			varchar2(50),	-- 在线协议编号
    account_type		varchar2(5),	-- 账户情况
    is_micro			varchar2(5),	-- 是否小微
	is_pribusi			varchar2(5),	-- 是否民营
	is_prifarm			varchar2(5),	-- 是否涉农
	is_green			varchar2(5),	-- 是否绿色
	is_tech			varchar2(5),	-- 是否科技
    apply_amount_sum 	number(10,2),	-- 申请总金额
    audit_type 			varchar2(5),	-- 审批条线
    apply_tx_date   	varchar2(10),	-- 申请贴现日期
    apply_valid_date 	number(2),		-- 申请有效期
    eff_date			varchar2(10),	-- 生效日期
    ave_daily_deposit 	varchar2(50),	-- 客户日均存款
    inner_busi_income 	varchar2(50),	-- 客户中间业务收入
    other_busi_income 	varchar2(50),	-- 客户其他收入
    apply_reason      	varchar2(200),	-- 申请说明
    effect				varchar2(200),	-- 此次影响收入
	apply_tx_rate		number(4,2),	-- 申请贴现利率
	best_favor_rate     number(4,2),	-- 最优惠利率（%）
    other_remark    	varchar2(200),	-- 其他
    lastUpdateTime	 	date,
    firstInsertTime 	date
);

comment on column t_bill_review_price_detail.id 				is 'ID';
comment on column t_bill_review_price_detail.batch_no			is '贴现定价审批编号';
comment on column t_bill_review_price_detail.apply_branch		is '申请单位';
comment on column t_bill_review_price_detail.apply_date			is '申请日期';
comment on column t_bill_review_price_detail.cust_Manager		is '客户经理';
comment on column t_bill_review_price_detail.emp_no				is '员工编号';
comment on column t_bill_review_price_detail.telPhone			is '手机';
comment on column t_bill_review_price_detail.landline			is '座机';
comment on column t_bill_review_price_detail.cust_name			is '客户名称';
comment on column t_bill_review_price_detail.cust_no			is '核心客户号';
comment on column t_bill_review_price_detail.mis_cust_no		is 'mis客户号';
comment on column t_bill_review_price_detail.online_no			is '在线协议编号';
comment on column t_bill_review_price_detail.account_type		is '账户情况';
comment on column t_bill_review_price_detail.is_micro			is '是否小微';
comment on column t_bill_review_price_detail.is_pribusi			is '是否民营';
comment on column t_bill_review_price_detail.is_prifarm			is '是否涉农';
comment on column t_bill_review_price_detail.is_green			is '是否绿色';
comment on column t_bill_review_price_detail.is_tech			is '是否科技';
comment on column t_bill_review_price_detail.apply_amount_sum 	is '申请总金额';
comment on column t_bill_review_price_detail.audit_type 		is '审批条线';
comment on column t_bill_review_price_detail.apply_tx_date   	is '申请贴现日期';
comment on column t_bill_review_price_detail.apply_valid_date 	is '申请有效期';
comment on column t_bill_review_price_detail.ave_daily_deposit 	is '客户日均存款';
comment on column t_bill_review_price_detail.inner_busi_income 	is '客户中间业务收入';
comment on column t_bill_review_price_detail.other_busi_income 	is '客户其他收入';
comment on column t_bill_review_price_detail.apply_reason      	is '申请说明';
comment on column t_bill_review_price_detail.effect				is '此次影响收入';
comment on column t_bill_review_price_detail.apply_tx_rate		is '申请贴现利率';
comment on column t_bill_review_price_detail.best_favor_rate	is '最优惠利率（%）';
comment on column t_bill_review_price_detail.other_remark    	is '其他';
comment on column t_bill_review_price_detail.lastUpdateTime	 	is '';
comment on column t_bill_review_price_detail.firstInsertTime 	is '';

create or replace trigger tig_t_bill_review_price_detail
before insert or update on t_bill_review_price_detail for each row
begin
    IF INSERTING THEN  
        :NEW.firstInsertTime := SYSDATE;
    ELSIF UPDATING then 
        :NEW.lastUpdateTime := SYSDATE;
    END IF;      
end;

-- 票据审价票据引入信息表
drop table t_bill_intro_info;
create table t_bill_intro_info(
	id        		VARCHAR2(50) not null,
	batch_no    	VARCHAR2(100), 
	bill_no         VARCHAR2(40),
	bill_amt		NUMBER(10,2),
	bill_type		VARCHAR2(5),
	status			VARCHAR2(5),
	apply_tx_date	VARCHAR2(10),
	due_date 		VARCHAR2(10),
	issue_date      VARCHAR2(10),
	limit_days		NUMBER(2),
	acpt_bank_name	VARCHAR2(200),
	acpt_bank_no	VARCHAR2(200),
	issuer_name		VARCHAR2(200),
	issuer_bank_name	VARCHAR2(200),
	issuer_bank_no	VARCHAR2(40),
	payee_bank_name	VARCHAR2(200),
	payee_bank_no	VARCHAR2(40),
	acpt_bank_type	VARCHAR2(20),
	apply_tx_rate	NUMBER(4,2),
	guidance_rate	NUMBER(4,2),
	favor_rate 		NUMBER(4,2),
	best_favor_rate	NUMBER(4,2),
	tx_term			VARCHAR2(20),	
	apply_amt       NUMBER(10,2),
	data_source		VARCHAR2(10),
	lastUpdateTime  date,
	firstInsertTime date
);

comment on column t_bill_intro_info.id is 'ID';
comment on column t_bill_intro_info.batch_No is '贴现定价审批编号';
comment on column t_bill_intro_info.bill_no is '票据号码/票据包号';
comment on column t_bill_intro_info.bill_amt is '票面金额（元）';
comment on column t_bill_intro_info.bill_type is '票据类型';
comment on column t_bill_intro_info.status is '状态';
comment on column t_bill_intro_info.apply_tx_date is '申请贴现日期';
comment on column t_bill_intro_info.due_date is '到期日';
comment on column t_bill_intro_info.limit_days is '期限（天）';
comment on column t_bill_intro_info.acpt_bank_name is '承兑行名称';
comment on column t_bill_intro_info.acpt_bank_no is '承兑行行号';
comment on column t_bill_intro_info.issuer_name is '出票人';
comment on column t_bill_intro_info.issuer_bank_name is '出票人开户行名';
comment on column t_bill_intro_info.issuer_bank_no is '出票人开户行号';
comment on column t_bill_intro_info.payee_bank_name is '收款人开户行名';
comment on column t_bill_intro_info.payee_bank_no is '收款人开户行号';
comment on column t_bill_intro_info.apply_tx_rate is '申请贴现利率（%）';
comment on column t_bill_intro_info.guidance_rate is '指导利率（%）';
comment on column t_bill_intro_info.favor_rate is '优惠利率（%）';
comment on column t_bill_intro_info.best_favor_rate is '最优惠利率（%）';
comment on column t_bill_intro_info.tx_term is '贴现期限（月）';
comment on column t_bill_intro_info.apply_amt is '申请额度';
comment on column t_bill_intro_info.data_source is '信息来源';
comment on column t_bill_intro_info.lastUpdateTime is '最近更新时间';
comment on column t_bill_intro_info.firstInsertTime is '首次插入时间';

create or replace trigger tig_t_bill_intro_info
before insert or update on t_bill_intro_info for each row
begin
    IF INSERTING THEN  
        :NEW.firstInsertTime := SYSDATE;
    ELSIF UPDATING then 
        :NEW.lastUpdateTime := SYSDATE;
    END IF;      
end;


drop table t_rate_maintainInfo;
create table t_rate_maintainInfo
(
  id        		VARCHAR2(50) not null,
  batchNo    		VARCHAR2(100),
  rateType			VARCHAR2(2),
  BestRate			NUMBER(4,2),
  effState    		VARCHAR2(5),
  maintainTime  	VARCHAR2(20),
  effTime    		VARCHAR2(10),
  handler   		VARCHAR2(10),
  handlerNo  		VARCHAR2(20),
  reviewer     		VARCHAR2(20),
  reviewerNo    	VARCHAR2(20),
  lastUpdateTime   	date,
  firstInsertTime   date
);

comment on column t_rate_maintainInfo.id is 'ID';
comment on column t_rate_maintainInfo.batchNo is '批次号';
comment on column t_rate_maintainInfo.rateType is '利率类型';
comment on column t_rate_maintainInfo.BestRate is '最优惠利率';
comment on column t_rate_maintainInfo.effState is '生效状态';
comment on column t_rate_maintainInfo.maintainTime is '维护日期';
comment on column t_rate_maintainInfo.handler is '经办人';
comment on column t_rate_maintainInfo.handlerNo is '经办人工号';
comment on column t_rate_maintainInfo.reviewer is '复核人';
comment on column t_rate_maintainInfo.reviewerNo is '复核人工号';
comment on column t_rate_maintainInfo.lastUpdateTime is '最近更新时间';
comment on column t_rate_maintainInfo.firstInsertTime is '首次插入时间';

create or replace trigger tig_t_rate_maintainInfo
before insert or update on t_rate_maintainInfo for each row
begin
    IF INSERTING THEN  
        :NEW.firstInsertTime := SYSDATE;
    ELSIF UPDATING then 
        :NEW.lastUpdateTime := SYSDATE;
    END IF;      
end;


drop table t_rateDetails;
create table t_rateDetails(
	id 			varchar2(50) not null,
    bankType	varchar2(20),
	bankDic		varchar2(20),
    status		varchar2(5), 
    effTime		varchar2(10),
    rateType	varchar2(2),
    batchNo		varchar2(20),
	rate        number(4,2),
	term		number(2),
    lastUpdateTime	date,
    firstInsertTime date
);

comment on column t_rateDetails.id is 'ID';
comment on column t_rateDetails.bankType is '行别';
comment on column t_rateDetails.bankDic is '行别字典';
comment on column t_rateDetails.status is '状态';
comment on column t_rateDetails.effTime is '生效日期';
comment on column t_rateDetails.rateType is '利率类型(0-指导|1-优惠)';
comment on column t_rateDetails.batchNo is '批次号';
comment on column t_rateDetails.term is '期限';
comment on column t_rateDetails.lastUpdateTime is '最近更新时间';
comment on column t_rateDetails.firstInsertTime is '首次插入时间';

create or replace trigger tig_t_rateDetails
before insert or update on t_rateDetails for each row
begin
    IF INSERTING THEN  
        :NEW.firstInsertTime := SYSDATE;
    ELSIF UPDATING then 
        :NEW.lastUpdateTime := SYSDATE;
    END IF;      
end;


